/*! For license information please see hw2.js.LICENSE.txt */
(()=>{"use strict";var t={887:(t,e,r)=>{r.r(e),r.d(e,{glMatrix:()=>n,mat2:()=>a,mat2d:()=>o,mat3:()=>i,mat4:()=>u,quat:()=>f,quat2:()=>l,vec2:()=>m,vec3:()=>s,vec4:()=>c});var n={};r.r(n),r.d(n,{ARRAY_TYPE:()=>b,EPSILON:()=>h,RANDOM:()=>d,equals:()=>v,setMatrixArrayType:()=>y,toRadian:()=>M});var a={};r.r(a),r.d(a,{LDU:()=>U,add:()=>D,adjoint:()=>_,clone:()=>g,copy:()=>A,create:()=>x,determinant:()=>S,equals:()=>V,exactEquals:()=>q,frob:()=>k,fromRotation:()=>z,fromScaling:()=>C,fromValues:()=>w,identity:()=>F,invert:()=>P,mul:()=>G,multiply:()=>I,multiplyScalar:()=>j,multiplyScalarAndAdd:()=>W,rotate:()=>B,scale:()=>R,set:()=>E,str:()=>O,sub:()=>N,subtract:()=>L,transpose:()=>T});var o={};r.r(o),r.d(o,{add:()=>ct,clone:()=>$,copy:()=>X,create:()=>Y,determinant:()=>J,equals:()=>bt,exactEquals:()=>ht,frob:()=>st,fromRotation:()=>at,fromScaling:()=>ot,fromTranslation:()=>it,fromValues:()=>Q,identity:()=>H,invert:()=>K,mul:()=>dt,multiply:()=>tt,multiplyScalar:()=>lt,multiplyScalarAndAdd:()=>mt,rotate:()=>et,scale:()=>rt,set:()=>Z,str:()=>ut,sub:()=>yt,subtract:()=>ft,translate:()=>nt});var i={};r.r(i),r.d(i,{add:()=>Vt,adjoint:()=>Tt,clone:()=>vt,copy:()=>xt,create:()=>pt,determinant:()=>Pt,equals:()=>Yt,exactEquals:()=>Nt,frob:()=>qt,fromMat2d:()=>Ot,fromMat4:()=>Mt,fromQuat:()=>kt,fromRotation:()=>zt,fromScaling:()=>Ct,fromTranslation:()=>Rt,fromValues:()=>gt,identity:()=>Ft,invert:()=>Et,mul:()=>$t,multiply:()=>_t,multiplyScalar:()=>Wt,multiplyScalarAndAdd:()=>Gt,normalFromMat4:()=>Ut,projection:()=>Dt,rotate:()=>It,scale:()=>Bt,set:()=>At,str:()=>Lt,sub:()=>Xt,subtract:()=>jt,translate:()=>St,transpose:()=>wt});var u={};r.r(u),r.d(u,{add:()=>De,adjoint:()=>ne,clone:()=>Qt,copy:()=>Zt,create:()=>Ht,determinant:()=>ae,equals:()=>We,exactEquals:()=>je,frob:()=>Ue,fromQuat:()=>Ee,fromQuat2:()=>ve,fromRotation:()=>be,fromRotationTranslation:()=>Me,fromRotationTranslationScale:()=>Fe,fromRotationTranslationScaleOrigin:()=>we,fromScaling:()=>he,fromTranslation:()=>me,fromValues:()=>Kt,fromXRotation:()=>de,fromYRotation:()=>ye,fromZRotation:()=>pe,frustum:()=>Te,getRotation:()=>Ae,getScaling:()=>ge,getTranslation:()=>xe,identity:()=>te,invert:()=>re,lookAt:()=>Ce,mul:()=>Ge,multiply:()=>oe,multiplyScalar:()=>qe,multiplyScalarAndAdd:()=>Ve,ortho:()=>Re,orthoNO:()=>Be,orthoZO:()=>ze,perspective:()=>_e,perspectiveFromFieldOfView:()=>Ie,perspectiveNO:()=>Pe,perspectiveZO:()=>Se,rotate:()=>se,rotateX:()=>ce,rotateY:()=>fe,rotateZ:()=>le,scale:()=>ue,set:()=>Jt,str:()=>ke,sub:()=>Ne,subtract:()=>Le,targetTo:()=>Oe,translate:()=>ie,transpose:()=>ee});var s={};r.r(s),r.d(s,{add:()=>Ke,angle:()=>Pr,bezier:()=>vr,ceil:()=>rr,clone:()=>$e,copy:()=>Qe,create:()=>Ye,cross:()=>yr,dist:()=>kr,distance:()=>cr,div:()=>Or,divide:()=>er,dot:()=>dr,equals:()=>Br,exactEquals:()=>Ir,floor:()=>nr,forEach:()=>qr,fromValues:()=>He,hermite:()=>Mr,inverse:()=>hr,len:()=>Dr,length:()=>Xe,lerp:()=>pr,max:()=>or,min:()=>ar,mul:()=>Cr,multiply:()=>tr,negate:()=>mr,normalize:()=>br,random:()=>xr,rotateX:()=>wr,rotateY:()=>Er,rotateZ:()=>Tr,round:()=>ir,scale:()=>ur,scaleAndAdd:()=>sr,set:()=>Ze,sqrDist:()=>Ur,sqrLen:()=>Lr,squaredDistance:()=>fr,squaredLength:()=>lr,str:()=>Sr,sub:()=>zr,subtract:()=>Je,transformMat3:()=>Ar,transformMat4:()=>gr,transformQuat:()=>Fr,zero:()=>_r});var c={};r.r(c),r.d(c,{add:()=>Yr,ceil:()=>Qr,clone:()=>jr,copy:()=>Gr,create:()=>Vr,cross:()=>mn,dist:()=>wn,distance:()=>nn,div:()=>Fn,divide:()=>Hr,dot:()=>ln,equals:()=>xn,exactEquals:()=>vn,floor:()=>Zr,forEach:()=>_n,fromValues:()=>Wr,inverse:()=>cn,len:()=>Tn,length:()=>on,lerp:()=>hn,max:()=>Jr,min:()=>Kr,mul:()=>An,multiply:()=>Xr,negate:()=>sn,normalize:()=>fn,random:()=>bn,round:()=>tn,scale:()=>en,scaleAndAdd:()=>rn,set:()=>Nr,sqrDist:()=>En,sqrLen:()=>Pn,squaredDistance:()=>an,squaredLength:()=>un,str:()=>Mn,sub:()=>gn,subtract:()=>$r,transformMat4:()=>dn,transformQuat:()=>yn,zero:()=>pn});var f={};r.r(f),r.d(f,{add:()=>oa,calculateW:()=>Dn,clone:()=>ea,conjugate:()=>Nn,copy:()=>na,create:()=>Sn,dot:()=>sa,equals:()=>ya,exactEquals:()=>da,exp:()=>Ln,fromEuler:()=>$n,fromMat3:()=>Yn,fromValues:()=>ra,getAngle:()=>zn,getAxisAngle:()=>Rn,identity:()=>In,invert:()=>Gn,len:()=>la,length:()=>fa,lerp:()=>ca,ln:()=>qn,mul:()=>ia,multiply:()=>Cn,normalize:()=>ba,pow:()=>Vn,random:()=>Wn,rotateX:()=>On,rotateY:()=>kn,rotateZ:()=>Un,rotationTo:()=>pa,scale:()=>ua,set:()=>aa,setAxes:()=>va,setAxisAngle:()=>Bn,slerp:()=>jn,sqlerp:()=>Ma,sqrLen:()=>ha,squaredLength:()=>ma,str:()=>Xn});var l={};r.r(l),r.d(l,{add:()=>Wa,clone:()=>ga,conjugate:()=>Qa,copy:()=>_a,create:()=>xa,dot:()=>$a,equals:()=>ao,exactEquals:()=>no,fromMat4:()=>Pa,fromRotation:()=>Ta,fromRotationTranslation:()=>wa,fromRotationTranslationValues:()=>Fa,fromTranslation:()=>Ea,fromValues:()=>Aa,getDual:()=>Ra,getReal:()=>Ba,getTranslation:()=>Oa,identity:()=>Sa,invert:()=>Ha,len:()=>Ka,length:()=>Za,lerp:()=>Xa,mul:()=>Na,multiply:()=>Ga,normalize:()=>eo,rotateAroundAxis:()=>ja,rotateByQuatAppend:()=>qa,rotateByQuatPrepend:()=>Va,rotateX:()=>Ua,rotateY:()=>Da,rotateZ:()=>La,scale:()=>Ya,set:()=>Ia,setDual:()=>Ca,setReal:()=>za,sqrLen:()=>to,squaredLength:()=>Ja,str:()=>ro,translate:()=>ka});var m={};r.r(m),r.d(m,{add:()=>fo,angle:()=>Do,ceil:()=>bo,clone:()=>io,copy:()=>so,create:()=>oo,cross:()=>Io,dist:()=>$o,distance:()=>Ao,div:()=>Yo,divide:()=>ho,dot:()=>So,equals:()=>jo,exactEquals:()=>Vo,floor:()=>yo,forEach:()=>Qo,fromValues:()=>uo,inverse:()=>Po,len:()=>Wo,length:()=>wo,lerp:()=>Bo,max:()=>Mo,min:()=>po,mul:()=>No,multiply:()=>mo,negate:()=>To,normalize:()=>_o,random:()=>Ro,rotate:()=>Uo,round:()=>vo,scale:()=>xo,scaleAndAdd:()=>go,set:()=>co,sqrDist:()=>Xo,sqrLen:()=>Ho,squaredDistance:()=>Fo,squaredLength:()=>Eo,str:()=>qo,sub:()=>Go,subtract:()=>lo,transformMat2:()=>zo,transformMat2d:()=>Co,transformMat3:()=>Oo,transformMat4:()=>ko,zero:()=>Lo});var h=1e-6,b="undefined"!=typeof Float32Array?Float32Array:Array,d=Math.random;function y(t){b=t}var p=Math.PI/180;function M(t){return t*p}function v(t,e){return Math.abs(t-e)<=h*Math.max(1,Math.abs(t),Math.abs(e))}function x(){var t=new b(4);return b!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function g(t){var e=new b(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function A(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function F(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function w(t,e,r,n){var a=new b(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function E(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function T(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function P(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*o-a*n;return i?(i=1/i,t[0]=o*i,t[1]=-n*i,t[2]=-a*i,t[3]=r*i,t):null}function _(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function S(t){return t[0]*t[3]-t[2]*t[1]}function I(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=n*u+o*s,t[1]=a*u+i*s,t[2]=n*c+o*f,t[3]=a*c+i*f,t}function B(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+o*u,t[1]=a*s+i*u,t[2]=n*-u+o*s,t[3]=a*-u+i*s,t}function R(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],s=r[1];return t[0]=n*u,t[1]=a*u,t[2]=o*s,t[3]=i*s,t}function z(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function C(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function O(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function k(t){return Math.hypot(t[0],t[1],t[2],t[3])}function U(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function D(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function L(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function V(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=h*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}function j(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function W(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var G=I,N=L;function Y(){var t=new b(6);return b!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function $(t){var e=new b(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function X(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function H(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Q(t,e,r,n,a,o){var i=new b(6);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i[4]=a,i[5]=o,i}function Z(t,e,r,n,a,o,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t}function K(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=r*o-n*a;return s?(s=1/s,t[0]=o*s,t[1]=-n*s,t[2]=-a*s,t[3]=r*s,t[4]=(a*u-o*i)*s,t[5]=(n*i-r*u)*s,t):null}function J(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=r[0],f=r[1],l=r[2],m=r[3],h=r[4],b=r[5];return t[0]=n*c+o*f,t[1]=a*c+i*f,t[2]=n*l+o*m,t[3]=a*l+i*m,t[4]=n*h+o*b+u,t[5]=a*h+i*b+s,t}function et(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=Math.sin(r),f=Math.cos(r);return t[0]=n*f+o*c,t[1]=a*f+i*c,t[2]=n*-c+o*f,t[3]=a*-c+i*f,t[4]=u,t[5]=s,t}function rt(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=r[0],f=r[1];return t[0]=n*c,t[1]=a*c,t[2]=o*f,t[3]=i*f,t[4]=u,t[5]=s,t}function nt(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=r[0],f=r[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=n*c+o*f+u,t[5]=a*c+i*f+s,t}function at(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function it(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function st(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function ct(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function ft(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function lt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function mt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function ht(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function bt(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=e[0],c=e[1],f=e[2],l=e[3],m=e[4],b=e[5];return Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-c)<=h*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(a-f)<=h*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-l)<=h*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-m)<=h*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(u-b)<=h*Math.max(1,Math.abs(u),Math.abs(b))}var dt=tt,yt=ft;function pt(){var t=new b(9);return b!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function vt(t){var e=new b(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function gt(t,e,r,n,a,o,i,u,s){var c=new b(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=n,c[4]=a,c[5]=o,c[6]=i,c[7]=u,c[8]=s,c}function At(t,e,r,n,a,o,i,u,s,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t}function Ft(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function wt(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Et(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*i-u*c,m=-f*o+u*s,h=c*o-i*s,b=r*l+n*m+a*h;return b?(b=1/b,t[0]=l*b,t[1]=(-f*n+a*c)*b,t[2]=(u*n-a*i)*b,t[3]=m*b,t[4]=(f*r-a*s)*b,t[5]=(-u*r+a*o)*b,t[6]=h*b,t[7]=(-c*r+n*s)*b,t[8]=(i*r-n*o)*b,t):null}function Tt(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=i*f-u*c,t[1]=a*c-n*f,t[2]=n*u-a*i,t[3]=u*s-o*f,t[4]=r*f-a*s,t[5]=a*o-r*u,t[6]=o*c-i*s,t[7]=n*s-r*c,t[8]=r*i-n*o,t}function Pt(t){var e=t[0],r=t[1],n=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-i*s)+r*(-c*a+i*u)+n*(s*a-o*u)}function _t(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],m=r[0],h=r[1],b=r[2],d=r[3],y=r[4],p=r[5],M=r[6],v=r[7],x=r[8];return t[0]=m*n+h*i+b*c,t[1]=m*a+h*u+b*f,t[2]=m*o+h*s+b*l,t[3]=d*n+y*i+p*c,t[4]=d*a+y*u+p*f,t[5]=d*o+y*s+p*l,t[6]=M*n+v*i+x*c,t[7]=M*a+v*u+x*f,t[8]=M*o+v*s+x*l,t}function St(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],m=r[0],h=r[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=m*n+h*i+c,t[7]=m*a+h*u+f,t[8]=m*o+h*s+l,t}function It(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],m=Math.sin(r),h=Math.cos(r);return t[0]=h*n+m*i,t[1]=h*a+m*u,t[2]=h*o+m*s,t[3]=h*i-m*n,t[4]=h*u-m*a,t[5]=h*s-m*o,t[6]=c,t[7]=f,t[8]=l,t}function Bt(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Rt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function zt(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ct(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function kt(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r+r,u=n+n,s=a+a,c=r*i,f=n*i,l=n*u,m=a*i,h=a*u,b=a*s,d=o*i,y=o*u,p=o*s;return t[0]=1-l-b,t[3]=f-p,t[6]=m+y,t[1]=f+p,t[4]=1-c-b,t[7]=h-d,t[2]=m-y,t[5]=h+d,t[8]=1-c-l,t}function Ut(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],m=e[10],h=e[11],b=e[12],d=e[13],y=e[14],p=e[15],M=r*u-n*i,v=r*s-a*i,x=r*c-o*i,g=n*s-a*u,A=n*c-o*u,F=a*c-o*s,w=f*d-l*b,E=f*y-m*b,T=f*p-h*b,P=l*y-m*d,_=l*p-h*d,S=m*p-h*y,I=M*S-v*_+x*P+g*T-A*E+F*w;return I?(I=1/I,t[0]=(u*S-s*_+c*P)*I,t[1]=(s*T-i*S-c*E)*I,t[2]=(i*_-u*T+c*w)*I,t[3]=(a*_-n*S-o*P)*I,t[4]=(r*S-a*T+o*E)*I,t[5]=(n*T-r*_-o*w)*I,t[6]=(d*F-y*A+p*g)*I,t[7]=(y*x-b*F-p*v)*I,t[8]=(b*A-d*x+p*M)*I,t):null}function Dt(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Lt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function qt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Vt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function jt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function Wt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Gt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function Nt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Yt(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=e[0],m=e[1],b=e[2],d=e[3],y=e[4],p=e[5],M=e[6],v=e[7],x=e[8];return Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-m)<=h*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(a-b)<=h*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(o-d)<=h*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-y)<=h*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(u-p)<=h*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-M)<=h*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(c-v)<=h*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(f-x)<=h*Math.max(1,Math.abs(f),Math.abs(x))}var $t=_t,Xt=jt;function Ht(){var t=new b(16);return b!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qt(t){var e=new b(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Kt(t,e,r,n,a,o,i,u,s,c,f,l,m,h,d,y){var p=new b(16);return p[0]=t,p[1]=e,p[2]=r,p[3]=n,p[4]=a,p[5]=o,p[6]=i,p[7]=u,p[8]=s,p[9]=c,p[10]=f,p[11]=l,p[12]=m,p[13]=h,p[14]=d,p[15]=y,p}function Jt(t,e,r,n,a,o,i,u,s,c,f,l,m,h,b,d,y){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=m,t[12]=h,t[13]=b,t[14]=d,t[15]=y,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function re(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],m=e[10],h=e[11],b=e[12],d=e[13],y=e[14],p=e[15],M=r*u-n*i,v=r*s-a*i,x=r*c-o*i,g=n*s-a*u,A=n*c-o*u,F=a*c-o*s,w=f*d-l*b,E=f*y-m*b,T=f*p-h*b,P=l*y-m*d,_=l*p-h*d,S=m*p-h*y,I=M*S-v*_+x*P+g*T-A*E+F*w;return I?(I=1/I,t[0]=(u*S-s*_+c*P)*I,t[1]=(a*_-n*S-o*P)*I,t[2]=(d*F-y*A+p*g)*I,t[3]=(m*A-l*F-h*g)*I,t[4]=(s*T-i*S-c*E)*I,t[5]=(r*S-a*T+o*E)*I,t[6]=(y*x-b*F-p*v)*I,t[7]=(f*F-m*x+h*v)*I,t[8]=(i*_-u*T+c*w)*I,t[9]=(n*T-r*_-o*w)*I,t[10]=(b*A-d*x+p*M)*I,t[11]=(l*x-f*A-h*M)*I,t[12]=(u*E-i*P-s*w)*I,t[13]=(r*P-n*E+a*w)*I,t[14]=(d*v-b*g-y*M)*I,t[15]=(f*g-l*v+m*M)*I,t):null}function ne(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],m=e[10],h=e[11],b=e[12],d=e[13],y=e[14],p=e[15];return t[0]=u*(m*p-h*y)-l*(s*p-c*y)+d*(s*h-c*m),t[1]=-(n*(m*p-h*y)-l*(a*p-o*y)+d*(a*h-o*m)),t[2]=n*(s*p-c*y)-u*(a*p-o*y)+d*(a*c-o*s),t[3]=-(n*(s*h-c*m)-u*(a*h-o*m)+l*(a*c-o*s)),t[4]=-(i*(m*p-h*y)-f*(s*p-c*y)+b*(s*h-c*m)),t[5]=r*(m*p-h*y)-f*(a*p-o*y)+b*(a*h-o*m),t[6]=-(r*(s*p-c*y)-i*(a*p-o*y)+b*(a*c-o*s)),t[7]=r*(s*h-c*m)-i*(a*h-o*m)+f*(a*c-o*s),t[8]=i*(l*p-h*d)-f*(u*p-c*d)+b*(u*h-c*l),t[9]=-(r*(l*p-h*d)-f*(n*p-o*d)+b*(n*h-o*l)),t[10]=r*(u*p-c*d)-i*(n*p-o*d)+b*(n*c-o*u),t[11]=-(r*(u*h-c*l)-i*(n*h-o*l)+f*(n*c-o*u)),t[12]=-(i*(l*y-m*d)-f*(u*y-s*d)+b*(u*m-s*l)),t[13]=r*(l*y-m*d)-f*(n*y-a*d)+b*(n*m-a*l),t[14]=-(r*(u*y-s*d)-i*(n*y-a*d)+b*(n*s-a*u)),t[15]=r*(u*m-s*l)-i*(n*m-a*l)+f*(n*s-a*u),t}function ae(t){var e=t[0],r=t[1],n=t[2],a=t[3],o=t[4],i=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],m=t[11],h=t[12],b=t[13],d=t[14],y=t[15];return(e*i-r*o)*(l*y-m*d)-(e*u-n*o)*(f*y-m*b)+(e*s-a*o)*(f*d-l*b)+(r*u-n*i)*(c*y-m*h)-(r*s-a*i)*(c*d-l*h)+(n*s-a*u)*(c*b-f*h)}function oe(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],m=e[9],h=e[10],b=e[11],d=e[12],y=e[13],p=e[14],M=e[15],v=r[0],x=r[1],g=r[2],A=r[3];return t[0]=v*n+x*u+g*l+A*d,t[1]=v*a+x*s+g*m+A*y,t[2]=v*o+x*c+g*h+A*p,t[3]=v*i+x*f+g*b+A*M,v=r[4],x=r[5],g=r[6],A=r[7],t[4]=v*n+x*u+g*l+A*d,t[5]=v*a+x*s+g*m+A*y,t[6]=v*o+x*c+g*h+A*p,t[7]=v*i+x*f+g*b+A*M,v=r[8],x=r[9],g=r[10],A=r[11],t[8]=v*n+x*u+g*l+A*d,t[9]=v*a+x*s+g*m+A*y,t[10]=v*o+x*c+g*h+A*p,t[11]=v*i+x*f+g*b+A*M,v=r[12],x=r[13],g=r[14],A=r[15],t[12]=v*n+x*u+g*l+A*d,t[13]=v*a+x*s+g*m+A*y,t[14]=v*o+x*c+g*h+A*p,t[15]=v*i+x*f+g*b+A*M,t}function ie(t,e,r){var n,a,o,i,u,s,c,f,l,m,h,b,d=r[0],y=r[1],p=r[2];return e===t?(t[12]=e[0]*d+e[4]*y+e[8]*p+e[12],t[13]=e[1]*d+e[5]*y+e[9]*p+e[13],t[14]=e[2]*d+e[6]*y+e[10]*p+e[14],t[15]=e[3]*d+e[7]*y+e[11]*p+e[15]):(n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],m=e[9],h=e[10],b=e[11],t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=m,t[10]=h,t[11]=b,t[12]=n*d+u*y+l*p+e[12],t[13]=a*d+s*y+m*p+e[13],t[14]=o*d+c*y+h*p+e[14],t[15]=i*d+f*y+b*p+e[15]),t}function ue(t,e,r){var n=r[0],a=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function se(t,e,r,n){var a,o,i,u,s,c,f,l,m,b,d,y,p,M,v,x,g,A,F,w,E,T,P,_,S=n[0],I=n[1],B=n[2],R=Math.hypot(S,I,B);return R<h?null:(S*=R=1/R,I*=R,B*=R,a=Math.sin(r),i=1-(o=Math.cos(r)),u=e[0],s=e[1],c=e[2],f=e[3],l=e[4],m=e[5],b=e[6],d=e[7],y=e[8],p=e[9],M=e[10],v=e[11],x=S*S*i+o,g=I*S*i+B*a,A=B*S*i-I*a,F=S*I*i-B*a,w=I*I*i+o,E=B*I*i+S*a,T=S*B*i+I*a,P=I*B*i-S*a,_=B*B*i+o,t[0]=u*x+l*g+y*A,t[1]=s*x+m*g+p*A,t[2]=c*x+b*g+M*A,t[3]=f*x+d*g+v*A,t[4]=u*F+l*w+y*E,t[5]=s*F+m*w+p*E,t[6]=c*F+b*w+M*E,t[7]=f*F+d*w+v*E,t[8]=u*T+l*P+y*_,t[9]=s*T+m*P+p*_,t[10]=c*T+b*P+M*_,t[11]=f*T+d*P+v*_,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function ce(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[4],i=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],m=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+c*n,t[5]=i*a+f*n,t[6]=u*a+l*n,t[7]=s*a+m*n,t[8]=c*a-o*n,t[9]=f*a-i*n,t[10]=l*a-u*n,t[11]=m*a-s*n,t}function fe(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],m=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-c*n,t[1]=i*a-f*n,t[2]=u*a-l*n,t[3]=s*a-m*n,t[8]=o*n+c*a,t[9]=i*n+f*a,t[10]=u*n+l*a,t[11]=s*n+m*a,t}function le(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],m=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+c*n,t[1]=i*a+f*n,t[2]=u*a+l*n,t[3]=s*a+m*n,t[4]=c*a-o*n,t[5]=f*a-i*n,t[6]=l*a-u*n,t[7]=m*a-s*n,t}function me(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function he(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function be(t,e,r){var n,a,o,i=r[0],u=r[1],s=r[2],c=Math.hypot(i,u,s);return c<h?null:(i*=c=1/c,u*=c,s*=c,n=Math.sin(e),o=1-(a=Math.cos(e)),t[0]=i*i*o+a,t[1]=u*i*o+s*n,t[2]=s*i*o-u*n,t[3]=0,t[4]=i*u*o-s*n,t[5]=u*u*o+a,t[6]=s*u*o+i*n,t[7]=0,t[8]=i*s*o+u*n,t[9]=u*s*o-i*n,t[10]=s*s*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function de(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ye(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Me(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=n+n,s=a+a,c=o+o,f=n*u,l=n*s,m=n*c,h=a*s,b=a*c,d=o*c,y=i*u,p=i*s,M=i*c;return t[0]=1-(h+d),t[1]=l+M,t[2]=m-p,t[3]=0,t[4]=l-M,t[5]=1-(f+d),t[6]=b+y,t[7]=0,t[8]=m+p,t[9]=b-y,t[10]=1-(f+h),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function ve(t,e){var r=new b(3),n=-e[0],a=-e[1],o=-e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=n*n+a*a+o*o+i*i;return l>0?(r[0]=2*(u*i+f*n+s*o-c*a)/l,r[1]=2*(s*i+f*a+c*n-u*o)/l,r[2]=2*(c*i+f*o+u*a-s*n)/l):(r[0]=2*(u*i+f*n+s*o-c*a),r[1]=2*(s*i+f*a+c*n-u*o),r[2]=2*(c*i+f*o+u*a-s*n)),Me(t,e,r),t}function xe(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function ge(t,e){var r=e[0],n=e[1],a=e[2],o=e[4],i=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(r,n,a),t[1]=Math.hypot(o,i,u),t[2]=Math.hypot(s,c,f),t}function Ae(t,e){var r=new b(3);ge(r,e);var n=1/r[0],a=1/r[1],o=1/r[2],i=e[0]*n,u=e[1]*a,s=e[2]*o,c=e[4]*n,f=e[5]*a,l=e[6]*o,m=e[8]*n,h=e[9]*a,d=e[10]*o,y=i+f+d,p=0;return y>0?(p=2*Math.sqrt(y+1),t[3]=.25*p,t[0]=(l-h)/p,t[1]=(m-s)/p,t[2]=(u-c)/p):i>f&&i>d?(p=2*Math.sqrt(1+i-f-d),t[3]=(l-h)/p,t[0]=.25*p,t[1]=(u+c)/p,t[2]=(m+s)/p):f>d?(p=2*Math.sqrt(1+f-i-d),t[3]=(m-s)/p,t[0]=(u+c)/p,t[1]=.25*p,t[2]=(l+h)/p):(p=2*Math.sqrt(1+d-i-f),t[3]=(u-c)/p,t[0]=(m+s)/p,t[1]=(l+h)/p,t[2]=.25*p),t}function Fe(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3],s=a+a,c=o+o,f=i+i,l=a*s,m=a*c,h=a*f,b=o*c,d=o*f,y=i*f,p=u*s,M=u*c,v=u*f,x=n[0],g=n[1],A=n[2];return t[0]=(1-(b+y))*x,t[1]=(m+v)*x,t[2]=(h-M)*x,t[3]=0,t[4]=(m-v)*g,t[5]=(1-(l+y))*g,t[6]=(d+p)*g,t[7]=0,t[8]=(h+M)*A,t[9]=(d-p)*A,t[10]=(1-(l+b))*A,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function we(t,e,r,n,a){var o=e[0],i=e[1],u=e[2],s=e[3],c=o+o,f=i+i,l=u+u,m=o*c,h=o*f,b=o*l,d=i*f,y=i*l,p=u*l,M=s*c,v=s*f,x=s*l,g=n[0],A=n[1],F=n[2],w=a[0],E=a[1],T=a[2],P=(1-(d+p))*g,_=(h+x)*g,S=(b-v)*g,I=(h-x)*A,B=(1-(m+p))*A,R=(y+M)*A,z=(b+v)*F,C=(y-M)*F,O=(1-(m+d))*F;return t[0]=P,t[1]=_,t[2]=S,t[3]=0,t[4]=I,t[5]=B,t[6]=R,t[7]=0,t[8]=z,t[9]=C,t[10]=O,t[11]=0,t[12]=r[0]+w-(P*w+I*E+z*T),t[13]=r[1]+E-(_*w+B*E+C*T),t[14]=r[2]+T-(S*w+R*E+O*T),t[15]=1,t}function Ee(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r+r,u=n+n,s=a+a,c=r*i,f=n*i,l=n*u,m=a*i,h=a*u,b=a*s,d=o*i,y=o*u,p=o*s;return t[0]=1-l-b,t[1]=f+p,t[2]=m-y,t[3]=0,t[4]=f-p,t[5]=1-c-b,t[6]=h+d,t[7]=0,t[8]=m+y,t[9]=h-d,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Te(t,e,r,n,a,o,i){var u=1/(r-e),s=1/(a-n),c=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*s,t[10]=(i+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*c,t[15]=0,t}function Pe(t,e,r,n,a){var o,i=1/Math.tan(e/2);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(o=1/(n-a),t[10]=(a+n)*o,t[14]=2*a*n*o):(t[10]=-1,t[14]=-2*n),t}var _e=Pe;function Se(t,e,r,n,a){var o,i=1/Math.tan(e/2);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(o=1/(n-a),t[10]=a*o,t[14]=a*n*o):(t[10]=-1,t[14]=-n),t}function Ie(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(i+u),c=2/(a+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(i-u)*s*.5,t[9]=(a-o)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Be(t,e,r,n,a,o,i){var u=1/(e-r),s=1/(n-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*s,t[14]=(i+o)*c,t[15]=1,t}var Re=Be;function ze(t,e,r,n,a,o,i){var u=1/(e-r),s=1/(n-a),c=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*s,t[14]=o*c,t[15]=1,t}function Ce(t,e,r,n){var a,o,i,u,s,c,f,l,m,b,d=e[0],y=e[1],p=e[2],M=n[0],v=n[1],x=n[2],g=r[0],A=r[1],F=r[2];return Math.abs(d-g)<h&&Math.abs(y-A)<h&&Math.abs(p-F)<h?te(t):(f=d-g,l=y-A,m=p-F,a=v*(m*=b=1/Math.hypot(f,l,m))-x*(l*=b),o=x*(f*=b)-M*m,i=M*l-v*f,(b=Math.hypot(a,o,i))?(a*=b=1/b,o*=b,i*=b):(a=0,o=0,i=0),u=l*i-m*o,s=m*a-f*i,c=f*o-l*a,(b=Math.hypot(u,s,c))?(u*=b=1/b,s*=b,c*=b):(u=0,s=0,c=0),t[0]=a,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=s,t[6]=l,t[7]=0,t[8]=i,t[9]=c,t[10]=m,t[11]=0,t[12]=-(a*d+o*y+i*p),t[13]=-(u*d+s*y+c*p),t[14]=-(f*d+l*y+m*p),t[15]=1,t)}function Oe(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=n[0],s=n[1],c=n[2],f=a-r[0],l=o-r[1],m=i-r[2],h=f*f+l*l+m*m;h>0&&(f*=h=1/Math.sqrt(h),l*=h,m*=h);var b=s*m-c*l,d=c*f-u*m,y=u*l-s*f;return(h=b*b+d*d+y*y)>0&&(b*=h=1/Math.sqrt(h),d*=h,y*=h),t[0]=b,t[1]=d,t[2]=y,t[3]=0,t[4]=l*y-m*d,t[5]=m*b-f*y,t[6]=f*d-l*b,t[7]=0,t[8]=f,t[9]=l,t[10]=m,t[11]=0,t[12]=a,t[13]=o,t[14]=i,t[15]=1,t}function ke(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ue(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function De(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function Le(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function qe(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Ve(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function je(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function We(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],m=t[10],b=t[11],d=t[12],y=t[13],p=t[14],M=t[15],v=e[0],x=e[1],g=e[2],A=e[3],F=e[4],w=e[5],E=e[6],T=e[7],P=e[8],_=e[9],S=e[10],I=e[11],B=e[12],R=e[13],z=e[14],C=e[15];return Math.abs(r-v)<=h*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-x)<=h*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(a-g)<=h*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(o-A)<=h*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(i-F)<=h*Math.max(1,Math.abs(i),Math.abs(F))&&Math.abs(u-w)<=h*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(s-E)<=h*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(c-T)<=h*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-P)<=h*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(l-_)<=h*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(m-S)<=h*Math.max(1,Math.abs(m),Math.abs(S))&&Math.abs(b-I)<=h*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(d-B)<=h*Math.max(1,Math.abs(d),Math.abs(B))&&Math.abs(y-R)<=h*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(p-z)<=h*Math.max(1,Math.abs(p),Math.abs(z))&&Math.abs(M-C)<=h*Math.max(1,Math.abs(M),Math.abs(C))}var Ge=oe,Ne=Le;function Ye(){var t=new b(3);return b!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function $e(t){var e=new b(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xe(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function He(t,e,r){var n=new b(3);return n[0]=t,n[1]=e,n[2]=r,n}function Qe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ze(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function Ke(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Je(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function tr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function er(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function rr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function nr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function ar(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function or(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function ir(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function ur(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function sr(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function cr(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.hypot(r,n,a)}function fr(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function lr(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function mr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function hr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function br(t,e){var r=e[0],n=e[1],a=e[2],o=r*r+n*n+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function dr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function yr(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[0],u=r[1],s=r[2];return t[0]=a*s-o*u,t[1]=o*i-n*s,t[2]=n*u-a*i,t}function pr(t,e,r,n){var a=e[0],o=e[1],i=e[2];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t[2]=i+n*(r[2]-i),t}function Mr(t,e,r,n,a,o){var i=o*o,u=i*(2*o-3)+1,s=i*(o-2)+o,c=i*(o-1),f=i*(3-2*o);return t[0]=e[0]*u+r[0]*s+n[0]*c+a[0]*f,t[1]=e[1]*u+r[1]*s+n[1]*c+a[1]*f,t[2]=e[2]*u+r[2]*s+n[2]*c+a[2]*f,t}function vr(t,e,r,n,a,o){var i=1-o,u=i*i,s=o*o,c=u*i,f=3*o*u,l=3*s*i,m=s*o;return t[0]=e[0]*c+r[0]*f+n[0]*l+a[0]*m,t[1]=e[1]*c+r[1]*f+n[1]*l+a[1]*m,t[2]=e[2]*c+r[2]*f+n[2]*l+a[2]*m,t}function xr(t,e){e=e||1;var r=2*d()*Math.PI,n=2*d()-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t}function gr(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[3]*n+r[7]*a+r[11]*o+r[15];return i=i||1,t[0]=(r[0]*n+r[4]*a+r[8]*o+r[12])/i,t[1]=(r[1]*n+r[5]*a+r[9]*o+r[13])/i,t[2]=(r[2]*n+r[6]*a+r[10]*o+r[14])/i,t}function Ar(t,e,r){var n=e[0],a=e[1],o=e[2];return t[0]=n*r[0]+a*r[3]+o*r[6],t[1]=n*r[1]+a*r[4]+o*r[7],t[2]=n*r[2]+a*r[5]+o*r[8],t}function Fr(t,e,r){var n=r[0],a=r[1],o=r[2],i=r[3],u=e[0],s=e[1],c=e[2],f=a*c-o*s,l=o*u-n*c,m=n*s-a*u,h=a*m-o*l,b=o*f-n*m,d=n*l-a*f,y=2*i;return f*=y,l*=y,m*=y,h*=2,b*=2,d*=2,t[0]=u+f+h,t[1]=s+l+b,t[2]=c+m+d,t}function wr(t,e,r,n){var a=[],o=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],o[0]=a[0],o[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),o[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Er(t,e,r,n){var a=[],o=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],o[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),o[1]=a[1],o[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Tr(t,e,r,n){var a=[],o=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],o[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),o[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),o[2]=a[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Pr(t,e){var r=t[0],n=t[1],a=t[2],o=e[0],i=e[1],u=e[2],s=Math.sqrt(r*r+n*n+a*a)*Math.sqrt(o*o+i*i+u*u),c=s&&dr(t,e)/s;return Math.acos(Math.min(Math.max(c,-1),1))}function _r(t){return t[0]=0,t[1]=0,t[2]=0,t}function Sr(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ir(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Br(t,e){var r=t[0],n=t[1],a=t[2],o=e[0],i=e[1],u=e[2];return Math.abs(r-o)<=h*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-i)<=h*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(a-u)<=h*Math.max(1,Math.abs(a),Math.abs(u))}var Rr,zr=Je,Cr=tr,Or=er,kr=cr,Ur=fr,Dr=Xe,Lr=lr,qr=(Rr=Ye(),function(t,e,r,n,a,o){var i,u;for(e||(e=3),r||(r=0),u=n?Math.min(n*e+r,t.length):t.length,i=r;i<u;i+=e)Rr[0]=t[i],Rr[1]=t[i+1],Rr[2]=t[i+2],a(Rr,Rr,o),t[i]=Rr[0],t[i+1]=Rr[1],t[i+2]=Rr[2];return t});function Vr(){var t=new b(4);return b!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function jr(t){var e=new b(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Wr(t,e,r,n){var a=new b(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function Gr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Nr(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function Yr(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function $r(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Xr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function Hr(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Qr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Zr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Kr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function Jr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function tn(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function en(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function rn(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function nn(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.hypot(r,n,a,o)}function an(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+a*a+o*o}function on(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.hypot(e,r,n,a)}function un(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}function sn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function cn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function fn(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*r+n*n+a*a+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=r*i,t[1]=n*i,t[2]=a*i,t[3]=o*i,t}function ln(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function mn(t,e,r,n){var a=r[0]*n[1]-r[1]*n[0],o=r[0]*n[2]-r[2]*n[0],i=r[0]*n[3]-r[3]*n[0],u=r[1]*n[2]-r[2]*n[1],s=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],f=e[0],l=e[1],m=e[2],h=e[3];return t[0]=l*c-m*s+h*u,t[1]=-f*c+m*i-h*o,t[2]=f*s-l*i+h*a,t[3]=-f*u+l*o-m*a,t}function hn(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t[2]=i+n*(r[2]-i),t[3]=u+n*(r[3]-u),t}function bn(t,e){var r,n,a,o,i,u;e=e||1;do{i=(r=2*d()-1)*r+(n=2*d()-1)*n}while(i>=1);do{u=(a=2*d()-1)*a+(o=2*d()-1)*o}while(u>=1);var s=Math.sqrt((1-i)/u);return t[0]=e*r,t[1]=e*n,t[2]=e*a*s,t[3]=e*o*s,t}function dn(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*o+r[12]*i,t[1]=r[1]*n+r[5]*a+r[9]*o+r[13]*i,t[2]=r[2]*n+r[6]*a+r[10]*o+r[14]*i,t[3]=r[3]*n+r[7]*a+r[11]*o+r[15]*i,t}function yn(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*o-s*a,l=c*a+s*n-i*o,m=c*o+i*a-u*n,h=-i*n-u*a-s*o;return t[0]=f*c+h*-i+l*-s-m*-u,t[1]=l*c+h*-u+m*-i-f*-s,t[2]=m*c+h*-s+f*-u-l*-i,t[3]=e[3],t}function pn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Mn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function xn(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-s)<=h*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}var gn=$r,An=Xr,Fn=Hr,wn=nn,En=an,Tn=on,Pn=un,_n=function(){var t=Vr();return function(e,r,n,a,o,i){var u,s;for(r||(r=4),n||(n=0),s=a?Math.min(a*r+n,e.length):e.length,u=n;u<s;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}();function Sn(){var t=new b(4);return b!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function In(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Bn(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function Rn(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>h?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function zn(t,e){var r=sa(t,e);return Math.acos(2*r*r-1)}function Cn(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=n*f+i*u+a*c-o*s,t[1]=a*f+i*s+o*u-n*c,t[2]=o*f+i*c+n*s-a*u,t[3]=i*f-n*u-a*s-o*c,t}function On(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+i*u,t[1]=a*s+o*u,t[2]=o*s-a*u,t[3]=i*s-n*u,t}function kn(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s-o*u,t[1]=a*s+i*u,t[2]=o*s+n*u,t[3]=i*s-a*u,t}function Un(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),s=Math.cos(r);return t[0]=n*s+a*u,t[1]=a*s-n*u,t[2]=o*s+i*u,t[3]=i*s-o*u,t}function Dn(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t}function Ln(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=Math.sqrt(r*r+n*n+a*a),u=Math.exp(o),s=i>0?u*Math.sin(i)/i:0;return t[0]=r*s,t[1]=n*s,t[2]=a*s,t[3]=u*Math.cos(i),t}function qn(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=Math.sqrt(r*r+n*n+a*a),u=i>0?Math.atan2(i,o)/i:0;return t[0]=r*u,t[1]=n*u,t[2]=a*u,t[3]=.5*Math.log(r*r+n*n+a*a+o*o),t}function Vn(t,e,r){return qn(t,e),ua(t,t,r),Ln(t,t),t}function jn(t,e,r,n){var a,o,i,u,s,c=e[0],f=e[1],l=e[2],m=e[3],b=r[0],d=r[1],y=r[2],p=r[3];return(o=c*b+f*d+l*y+m*p)<0&&(o=-o,b=-b,d=-d,y=-y,p=-p),1-o>h?(a=Math.acos(o),i=Math.sin(a),u=Math.sin((1-n)*a)/i,s=Math.sin(n*a)/i):(u=1-n,s=n),t[0]=u*c+s*b,t[1]=u*f+s*d,t[2]=u*l+s*y,t[3]=u*m+s*p,t}function Wn(t){var e=d(),r=d(),n=d(),a=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=a*Math.sin(2*Math.PI*r),t[1]=a*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*n),t[3]=o*Math.cos(2*Math.PI*n),t}function Gn(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*r+n*n+a*a+o*o,u=i?1/i:0;return t[0]=-r*u,t[1]=-n*u,t[2]=-a*u,t[3]=o*u,t}function Nn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Yn(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+a]+e[3*a+o])*r,t[i]=(e[3*i+a]+e[3*a+i])*r}return t}function $n(t,e,r,n){var a=.5*Math.PI/180;e*=a,r*=a,n*=a;var o=Math.sin(e),i=Math.cos(e),u=Math.sin(r),s=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return t[0]=o*s*f-i*u*c,t[1]=i*u*f+o*s*c,t[2]=i*s*c-o*u*f,t[3]=i*s*f+o*u*c,t}function Xn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Hn,Qn,Zn,Kn,Jn,ta,ea=jr,ra=Wr,na=Gr,aa=Nr,oa=Yr,ia=Cn,ua=en,sa=ln,ca=hn,fa=on,la=fa,ma=un,ha=ma,ba=fn,da=vn,ya=xn,pa=(Hn=Ye(),Qn=He(1,0,0),Zn=He(0,1,0),function(t,e,r){var n=dr(e,r);return n<-.999999?(yr(Hn,Qn,e),Dr(Hn)<1e-6&&yr(Hn,Zn,e),br(Hn,Hn),Bn(t,Hn,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(yr(Hn,e,r),t[0]=Hn[0],t[1]=Hn[1],t[2]=Hn[2],t[3]=1+n,ba(t,t))}),Ma=(Kn=Sn(),Jn=Sn(),function(t,e,r,n,a,o){return jn(Kn,e,a,o),jn(Jn,r,n,o),jn(t,Kn,Jn,2*o*(1-o)),t}),va=(ta=pt(),function(t,e,r,n){return ta[0]=r[0],ta[3]=r[1],ta[6]=r[2],ta[1]=n[0],ta[4]=n[1],ta[7]=n[2],ta[2]=-e[0],ta[5]=-e[1],ta[8]=-e[2],ba(t,Yn(t,ta))});function xa(){var t=new b(8);return b!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ga(t){var e=new b(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Aa(t,e,r,n,a,o,i,u){var s=new b(8);return s[0]=t,s[1]=e,s[2]=r,s[3]=n,s[4]=a,s[5]=o,s[6]=i,s[7]=u,s}function Fa(t,e,r,n,a,o,i){var u=new b(8);u[0]=t,u[1]=e,u[2]=r,u[3]=n;var s=.5*a,c=.5*o,f=.5*i;return u[4]=s*n+c*r-f*e,u[5]=c*n+f*t-s*r,u[6]=f*n+s*e-c*t,u[7]=-s*t-c*e-f*r,u}function wa(t,e,r){var n=.5*r[0],a=.5*r[1],o=.5*r[2],i=e[0],u=e[1],s=e[2],c=e[3];return t[0]=i,t[1]=u,t[2]=s,t[3]=c,t[4]=n*c+a*s-o*u,t[5]=a*c+o*i-n*s,t[6]=o*c+n*u-a*i,t[7]=-n*i-a*u-o*s,t}function Ea(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function Ta(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Pa(t,e){var r=Sn();Ae(r,e);var n=new b(3);return xe(n,e),wa(t,r,n),t}function _a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function Sa(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ia(t,e,r,n,a,o,i,u,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=s,t}var Ba=na;function Ra(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var za=na;function Ca(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function Oa(t,e){var r=e[4],n=e[5],a=e[6],o=e[7],i=-e[0],u=-e[1],s=-e[2],c=e[3];return t[0]=2*(r*c+o*i+n*s-a*u),t[1]=2*(n*c+o*u+a*i-r*s),t[2]=2*(a*c+o*s+r*u-n*i),t}function ka(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=.5*r[0],s=.5*r[1],c=.5*r[2],f=e[4],l=e[5],m=e[6],h=e[7];return t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=i*u+a*c-o*s+f,t[5]=i*s+o*u-n*c+l,t[6]=i*c+n*s-a*u+m,t[7]=-n*u-a*s-o*c+h,t}function Ua(t,e,r){var n=-e[0],a=-e[1],o=-e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=u*i+f*n+s*o-c*a,m=s*i+f*a+c*n-u*o,h=c*i+f*o+u*a-s*n,b=f*i-u*n-s*a-c*o;return On(t,e,r),n=t[0],a=t[1],o=t[2],i=t[3],t[4]=l*i+b*n+m*o-h*a,t[5]=m*i+b*a+h*n-l*o,t[6]=h*i+b*o+l*a-m*n,t[7]=b*i-l*n-m*a-h*o,t}function Da(t,e,r){var n=-e[0],a=-e[1],o=-e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=u*i+f*n+s*o-c*a,m=s*i+f*a+c*n-u*o,h=c*i+f*o+u*a-s*n,b=f*i-u*n-s*a-c*o;return kn(t,e,r),n=t[0],a=t[1],o=t[2],i=t[3],t[4]=l*i+b*n+m*o-h*a,t[5]=m*i+b*a+h*n-l*o,t[6]=h*i+b*o+l*a-m*n,t[7]=b*i-l*n-m*a-h*o,t}function La(t,e,r){var n=-e[0],a=-e[1],o=-e[2],i=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=u*i+f*n+s*o-c*a,m=s*i+f*a+c*n-u*o,h=c*i+f*o+u*a-s*n,b=f*i-u*n-s*a-c*o;return Un(t,e,r),n=t[0],a=t[1],o=t[2],i=t[3],t[4]=l*i+b*n+m*o-h*a,t[5]=m*i+b*a+h*n-l*o,t[6]=h*i+b*o+l*a-m*n,t[7]=b*i-l*n-m*a-h*o,t}function qa(t,e,r){var n=r[0],a=r[1],o=r[2],i=r[3],u=e[0],s=e[1],c=e[2],f=e[3];return t[0]=u*i+f*n+s*o-c*a,t[1]=s*i+f*a+c*n-u*o,t[2]=c*i+f*o+u*a-s*n,t[3]=f*i-u*n-s*a-c*o,u=e[4],s=e[5],c=e[6],f=e[7],t[4]=u*i+f*n+s*o-c*a,t[5]=s*i+f*a+c*n-u*o,t[6]=c*i+f*o+u*a-s*n,t[7]=f*i-u*n-s*a-c*o,t}function Va(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],s=r[1],c=r[2],f=r[3];return t[0]=n*f+i*u+a*c-o*s,t[1]=a*f+i*s+o*u-n*c,t[2]=o*f+i*c+n*s-a*u,t[3]=i*f-n*u-a*s-o*c,u=r[4],s=r[5],c=r[6],f=r[7],t[4]=n*f+i*u+a*c-o*s,t[5]=a*f+i*s+o*u-n*c,t[6]=o*f+i*c+n*s-a*u,t[7]=i*f-n*u-a*s-o*c,t}function ja(t,e,r,n){if(Math.abs(n)<h)return _a(t,e);var a=Math.hypot(r[0],r[1],r[2]);n*=.5;var o=Math.sin(n),i=o*r[0]/a,u=o*r[1]/a,s=o*r[2]/a,c=Math.cos(n),f=e[0],l=e[1],m=e[2],b=e[3];t[0]=f*c+b*i+l*s-m*u,t[1]=l*c+b*u+m*i-f*s,t[2]=m*c+b*s+f*u-l*i,t[3]=b*c-f*i-l*u-m*s;var d=e[4],y=e[5],p=e[6],M=e[7];return t[4]=d*c+M*i+y*s-p*u,t[5]=y*c+M*u+p*i-d*s,t[6]=p*c+M*s+d*u-y*i,t[7]=M*c-d*i-y*u-p*s,t}function Wa(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function Ga(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[4],s=r[5],c=r[6],f=r[7],l=e[4],m=e[5],h=e[6],b=e[7],d=r[0],y=r[1],p=r[2],M=r[3];return t[0]=n*M+i*d+a*p-o*y,t[1]=a*M+i*y+o*d-n*p,t[2]=o*M+i*p+n*y-a*d,t[3]=i*M-n*d-a*y-o*p,t[4]=n*f+i*u+a*c-o*s+l*M+b*d+m*p-h*y,t[5]=a*f+i*s+o*u-n*c+m*M+b*y+h*d-l*p,t[6]=o*f+i*c+n*s-a*u+h*M+b*p+l*y-m*d,t[7]=i*f-n*u-a*s-o*c+b*M-l*d-m*y-h*p,t}var Na=Ga;function Ya(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var $a=sa;function Xa(t,e,r,n){var a=1-n;return $a(e,r)<0&&(n=-n),t[0]=e[0]*a+r[0]*n,t[1]=e[1]*a+r[1]*n,t[2]=e[2]*a+r[2]*n,t[3]=e[3]*a+r[3]*n,t[4]=e[4]*a+r[4]*n,t[5]=e[5]*a+r[5]*n,t[6]=e[6]*a+r[6]*n,t[7]=e[7]*a+r[7]*n,t}function Ha(t,e){var r=Ja(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function Qa(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Za=fa,Ka=Za,Ja=ma,to=Ja;function eo(t,e){var r=Ja(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,a=e[1]/r,o=e[2]/r,i=e[3]/r,u=e[4],s=e[5],c=e[6],f=e[7],l=n*u+a*s+o*c+i*f;t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=(u-n*l)/r,t[5]=(s-a*l)/r,t[6]=(c-o*l)/r,t[7]=(f-i*l)/r}return t}function ro(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function no(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ao(t,e){var r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=t[6],c=t[7],f=e[0],l=e[1],m=e[2],b=e[3],d=e[4],y=e[5],p=e[6],M=e[7];return Math.abs(r-f)<=h*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-l)<=h*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-m)<=h*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(o-b)<=h*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(i-d)<=h*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(u-y)<=h*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(s-p)<=h*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(c-M)<=h*Math.max(1,Math.abs(c),Math.abs(M))}function oo(){var t=new b(2);return b!=Float32Array&&(t[0]=0,t[1]=0),t}function io(t){var e=new b(2);return e[0]=t[0],e[1]=t[1],e}function uo(t,e){var r=new b(2);return r[0]=t,r[1]=e,r}function so(t,e){return t[0]=e[0],t[1]=e[1],t}function co(t,e,r){return t[0]=e,t[1]=r,t}function fo(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function lo(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function mo(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function ho(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function bo(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function yo(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function po(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function Mo(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function vo(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function xo(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function go(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function Ao(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function Fo(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function wo(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function Eo(t){var e=t[0],r=t[1];return e*e+r*r}function To(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Po(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function _o(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t}function So(t,e){return t[0]*e[0]+t[1]*e[1]}function Io(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function Bo(t,e,r,n){var a=e[0],o=e[1];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t}function Ro(t,e){e=e||1;var r=2*d()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function zo(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t}function Co(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t}function Oo(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t}function ko(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t}function Uo(t,e,r,n){var a=e[0]-r[0],o=e[1]-r[1],i=Math.sin(n),u=Math.cos(n);return t[0]=a*u-o*i+r[0],t[1]=a*i+o*u+r[1],t}function Do(t,e){var r=t[0],n=t[1],a=e[0],o=e[1],i=Math.sqrt(r*r+n*n)*Math.sqrt(a*a+o*o),u=i&&(r*a+n*o)/i;return Math.acos(Math.min(Math.max(u,-1),1))}function Lo(t){return t[0]=0,t[1]=0,t}function qo(t){return"vec2("+t[0]+", "+t[1]+")"}function Vo(t,e){return t[0]===e[0]&&t[1]===e[1]}function jo(t,e){var r=t[0],n=t[1],a=e[0],o=e[1];return Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))}var Wo=wo,Go=lo,No=mo,Yo=ho,$o=Ao,Xo=Fo,Ho=Eo,Qo=function(){var t=oo();return function(e,r,n,a,o,i){var u,s;for(r||(r=2),n||(n=0),s=a?Math.min(a*r+n,e.length):e.length,u=n;u<s;u+=r)t[0]=e[u],t[1]=e[u+1],o(t,t,i),e[u]=t[0],e[u+1]=t[1];return e}}()},460:(t,e,r)=>{r.r(e),r.d(e,{addExtensionsToContext:()=>Ii,attributes:()=>vt,bindFramebufferInfo:()=>Mi,bindTransformFeedbackInfo:()=>_o,bindUniformBlock:()=>Oo,canFilter:()=>jn,canGenerateMipmap:()=>Vn,createAttribsFromArrays:()=>ht,createAttributeSetters:()=>Vo,createBufferFromArray:()=>pt,createBufferFromTypedArray:()=>rt,createBufferInfoFromArrays:()=>yt,createBuffersFromArrays:()=>Mt,createFramebufferInfo:()=>yi,createProgram:()=>ho,createProgramAsync:()=>yo,createProgramFromScripts:()=>xo,createProgramFromSources:()=>go,createProgramInfo:()=>Yo,createProgramInfoAsync:()=>po,createProgramInfoFromProgram:()=>Go,createProgramInfos:()=>Ho,createProgramInfosAsync:()=>Zo,createPrograms:()=>Xo,createProgramsAsync:()=>Qo,createSampler:()=>Jn,createSamplers:()=>ta,createTexture:()=>ha,createTextures:()=>da,createTransformFeedback:()=>So,createTransformFeedbackInfo:()=>Po,createUniformBlockInfo:()=>Co,createUniformBlockInfoFromProgram:()=>zo,createUniformBlockSpecFromProgram:()=>Io,createUniformSetters:()=>To,createVAOAndSetAttributes:()=>Ai,createVAOFromBufferInfo:()=>Fi,createVertexArrayInfo:()=>gi,draw:()=>ni,drawBufferInfo:()=>ei,drawObjectList:()=>ri,framebuffers:()=>vi,getArray_:()=>at,getBytesPerElementForInternalFormat:()=>Dn,getContext:()=>Ri,getFormatAndTypeForInternalFormat:()=>Ln,getGLTypeForTypedArray:()=>S,getGLTypeForTypedArrayType:()=>I,getNumComponentsForFormat:()=>Wn,getNumComponents_:()=>ut,getTypedArrayTypeForGLType:()=>B,getWebGLContext:()=>Bi,glEnumToString:()=>xe,isArrayBuffer:()=>R,isWebGL1:()=>ve,isWebGL2:()=>Me,loadTextureFromUrl:()=>fa,m4:()=>x,primitives:()=>pe,programs:()=>Ko,resizeCanvasToDisplaySize:()=>zi,resizeFramebufferInfo:()=>pi,resizeTexture:()=>ba,setAttribInfoBufferFromArray:()=>bt,setAttributeDefaults_:()=>tt,setAttributePrefix:()=>J,setAttributes:()=>jo,setBlockUniforms:()=>Uo,setBuffersAndAttributes:()=>Wo,setDefaultTextureColor:()=>Yn,setDefaults:()=>Ti,setEmptyTexture:()=>ma,setSamplerParameters:()=>Kn,setTextureDefaults_:()=>$n,setTextureFilteringForSize:()=>ea,setTextureFromArray:()=>la,setTextureFromElement:()=>oa,setTextureParameters:()=>Zn,setUniformBlock:()=>ko,setUniforms:()=>Lo,setUniformsAndBindTextures:()=>qo,textures:()=>ya,typedarrays:()=>z,utils:()=>ge,v3:()=>f,vertexArrays:()=>wi});let n=Float32Array;function a(t,e,r){const a=new n(3);return t&&(a[0]=t),e&&(a[1]=e),r&&(a[2]=r),a}function o(t,e,r){return(r=r||new n(3))[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function i(t,e,r){return(r=r||new n(3))[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r}function u(t,e,r){r=r||new n(3);const a=t[2]*e[0]-t[0]*e[2],o=t[0]*e[1]-t[1]*e[0];return r[0]=t[1]*e[2]-t[2]*e[1],r[1]=a,r[2]=o,r}function s(t,e){e=e||new n(3);const r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],a=Math.sqrt(r);return a>1e-5?(e[0]=t[0]/a,e[1]=t[1]/a,e[2]=t[2]/a):(e[0]=0,e[1]=0,e[2]=0),e}function c(t,e,r){return(r=r||new n(3))[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r}var f=Object.freeze({__proto__:null,add:o,copy:function(t,e){return(e=e||new n(3))[0]=t[0],e[1]=t[1],e[2]=t[2],e},create:a,cross:u,distance:function(t,e){const r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(r*r+n*n+a*a)},distanceSq:function(t,e){const r=t[0]-e[0],n=t[1]-e[1],a=t[2]-e[2];return r*r+n*n+a*a},divide:function(t,e,r){return(r=r||new n(3))[0]=t[0]/e[0],r[1]=t[1]/e[1],r[2]=t[2]/e[2],r},divScalar:function(t,e,r){return(r=r||new n(3))[0]=t[0]/e,r[1]=t[1]/e,r[2]=t[2]/e,r},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},lerp:function(t,e,r,a){return(a=a||new n(3))[0]=t[0]+r*(e[0]-t[0]),a[1]=t[1]+r*(e[1]-t[1]),a[2]=t[2]+r*(e[2]-t[2]),a},lerpV:function(t,e,r,a){return(a=a||new n(3))[0]=t[0]+r[0]*(e[0]-t[0]),a[1]=t[1]+r[1]*(e[1]-t[1]),a[2]=t[2]+r[2]*(e[2]-t[2]),a},length:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])},lengthSq:function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},max:function(t,e,r){return(r=r||new n(3))[0]=Math.max(t[0],e[0]),r[1]=Math.max(t[1],e[1]),r[2]=Math.max(t[2],e[2]),r},min:function(t,e,r){return(r=r||new n(3))[0]=Math.min(t[0],e[0]),r[1]=Math.min(t[1],e[1]),r[2]=Math.min(t[2],e[2]),r},mulScalar:function(t,e,r){return(r=r||new n(3))[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r},multiply:c,negate:function(t,e){return(e=e||new n(3))[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e},normalize:s,setDefaultType:function(t){const e=n;return n=t,e},subtract:i});let l,m,h,b=Float32Array;function d(t,e){return(e=e||new b(16))[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function y(t){return(t=t||new b(16))[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function p(t,e){e=e||new b(16);const r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],m=t[10],h=t[11],d=t[12],y=t[13],p=t[14],M=t[15],v=m*M,x=p*h,g=s*M,A=p*c,F=s*h,w=m*c,E=a*M,T=p*o,P=a*h,_=m*o,S=a*c,I=s*o,B=f*y,R=d*l,z=i*y,C=d*u,O=i*l,k=f*u,U=r*y,D=d*n,L=r*l,q=f*n,V=r*u,j=i*n,W=v*u+A*l+F*y-(x*u+g*l+w*y),G=x*n+E*l+_*y-(v*n+T*l+P*y),N=g*n+T*u+S*y-(A*n+E*u+I*y),Y=w*n+P*u+I*l-(F*n+_*u+S*l),$=1/(r*W+i*G+f*N+d*Y);return e[0]=$*W,e[1]=$*G,e[2]=$*N,e[3]=$*Y,e[4]=$*(x*i+g*f+w*d-(v*i+A*f+F*d)),e[5]=$*(v*r+T*f+P*d-(x*r+E*f+_*d)),e[6]=$*(A*r+E*i+I*d-(g*r+T*i+S*d)),e[7]=$*(F*r+_*i+S*f-(w*r+P*i+I*f)),e[8]=$*(B*c+C*h+O*M-(R*c+z*h+k*M)),e[9]=$*(R*o+U*h+q*M-(B*o+D*h+L*M)),e[10]=$*(z*o+D*c+V*M-(C*o+U*c+j*M)),e[11]=$*(k*o+L*c+j*h-(O*o+q*c+V*h)),e[12]=$*(z*m+k*p+R*s-(O*p+B*s+C*m)),e[13]=$*(L*p+B*a+D*m-(U*m+q*p+R*a)),e[14]=$*(U*s+j*p+C*a-(V*p+z*a+D*s)),e[15]=$*(V*m+O*a+q*s-(L*s+j*m+k*a)),e}function M(t,e,r){r=r||a();const n=e[0],o=e[1],i=e[2],u=n*t[3]+o*t[7]+i*t[11]+t[15];return r[0]=(n*t[0]+o*t[4]+i*t[8]+t[12])/u,r[1]=(n*t[1]+o*t[5]+i*t[9]+t[13])/u,r[2]=(n*t[2]+o*t[6]+i*t[10]+t[14])/u,r}function v(t,e,r){r=r||a();const n=e[0],o=e[1],i=e[2];return r[0]=n*t[0]+o*t[4]+i*t[8],r[1]=n*t[1]+o*t[5]+i*t[9],r[2]=n*t[2]+o*t[6]+i*t[10],r}var x=Object.freeze({__proto__:null,axisRotate:function(t,e,r,n){n=n||new b(16);let a=e[0],o=e[1],i=e[2];const u=Math.sqrt(a*a+o*o+i*i);a/=u,o/=u,i/=u;const s=a*a,c=o*o,f=i*i,l=Math.cos(r),m=Math.sin(r),h=1-l,d=s+(1-s)*l,y=a*o*h+i*m,p=a*i*h-o*m,M=a*o*h-i*m,v=c+(1-c)*l,x=o*i*h+a*m,g=a*i*h+o*m,A=o*i*h-a*m,F=f+(1-f)*l,w=t[0],E=t[1],T=t[2],P=t[3],_=t[4],S=t[5],I=t[6],B=t[7],R=t[8],z=t[9],C=t[10],O=t[11];return n[0]=d*w+y*_+p*R,n[1]=d*E+y*S+p*z,n[2]=d*T+y*I+p*C,n[3]=d*P+y*B+p*O,n[4]=M*w+v*_+x*R,n[5]=M*E+v*S+x*z,n[6]=M*T+v*I+x*C,n[7]=M*P+v*B+x*O,n[8]=g*w+A*_+F*R,n[9]=g*E+A*S+F*z,n[10]=g*T+A*I+F*C,n[11]=g*P+A*B+F*O,t!==n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]),n},axisRotation:function(t,e,r){r=r||new b(16);let n=t[0],a=t[1],o=t[2];const i=Math.sqrt(n*n+a*a+o*o);n/=i,a/=i,o/=i;const u=n*n,s=a*a,c=o*o,f=Math.cos(e),l=Math.sin(e),m=1-f;return r[0]=u+(1-u)*f,r[1]=n*a*m+o*l,r[2]=n*o*m-a*l,r[3]=0,r[4]=n*a*m-o*l,r[5]=s+(1-s)*f,r[6]=a*o*m+n*l,r[7]=0,r[8]=n*o*m+a*l,r[9]=a*o*m-n*l,r[10]=c+(1-c)*f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},copy:d,create:function(){return new b(16).fill(0)},frustum:function(t,e,r,n,a,o,i){const u=e-t,s=n-r,c=a-o;return(i=i||new b(16))[0]=2*a/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*a/s,i[6]=0,i[7]=0,i[8]=(t+e)/u,i[9]=(n+r)/s,i[10]=o/c,i[11]=-1,i[12]=0,i[13]=0,i[14]=a*o/c,i[15]=0,i},getAxis:function(t,e,r){const n=4*e;return(r=r||a())[0]=t[n+0],r[1]=t[n+1],r[2]=t[n+2],r},getTranslation:function(t,e){return(e=e||a())[0]=t[12],e[1]=t[13],e[2]=t[14],e},identity:y,inverse:p,lookAt:function(t,e,r,n){return n=n||new b(16),l=l||a(),m=m||a(),h=h||a(),s(i(t,e,h),h),s(u(r,h,l),l),s(u(h,l,m),m),n[0]=l[0],n[1]=l[1],n[2]=l[2],n[3]=0,n[4]=m[0],n[5]=m[1],n[6]=m[2],n[7]=0,n[8]=h[0],n[9]=h[1],n[10]=h[2],n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n},multiply:function(t,e,r){r=r||new b(16);const n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],m=t[9],h=t[10],d=t[11],y=t[12],p=t[13],M=t[14],v=t[15],x=e[0],g=e[1],A=e[2],F=e[3],w=e[4],E=e[5],T=e[6],P=e[7],_=e[8],S=e[9],I=e[10],B=e[11],R=e[12],z=e[13],C=e[14],O=e[15];return r[0]=n*x+u*g+l*A+y*F,r[1]=a*x+s*g+m*A+p*F,r[2]=o*x+c*g+h*A+M*F,r[3]=i*x+f*g+d*A+v*F,r[4]=n*w+u*E+l*T+y*P,r[5]=a*w+s*E+m*T+p*P,r[6]=o*w+c*E+h*T+M*P,r[7]=i*w+f*E+d*T+v*P,r[8]=n*_+u*S+l*I+y*B,r[9]=a*_+s*S+m*I+p*B,r[10]=o*_+c*S+h*I+M*B,r[11]=i*_+f*S+d*I+v*B,r[12]=n*R+u*z+l*C+y*O,r[13]=a*R+s*z+m*C+p*O,r[14]=o*R+c*z+h*C+M*O,r[15]=i*R+f*z+d*C+v*O,r},negate:function(t,e){return(e=e||new b(16))[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=-t[7],e[8]=-t[8],e[9]=-t[9],e[10]=-t[10],e[11]=-t[11],e[12]=-t[12],e[13]=-t[13],e[14]=-t[14],e[15]=-t[15],e},ortho:function(t,e,r,n,a,o,i){return(i=i||new b(16))[0]=2/(e-t),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-r),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(a-o),i[11]=0,i[12]=(e+t)/(t-e),i[13]=(n+r)/(r-n),i[14]=(o+a)/(a-o),i[15]=1,i},perspective:function(t,e,r,n,a){a=a||new b(16);const o=Math.tan(.5*Math.PI-.5*t),i=1/(r-n);return a[0]=o/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(r+n)*i,a[11]=-1,a[12]=0,a[13]=0,a[14]=r*n*i*2,a[15]=0,a},rotateX:function(t,e,r){r=r||new b(16);const n=t[4],a=t[5],o=t[6],i=t[7],u=t[8],s=t[9],c=t[10],f=t[11],l=Math.cos(e),m=Math.sin(e);return r[4]=l*n+m*u,r[5]=l*a+m*s,r[6]=l*o+m*c,r[7]=l*i+m*f,r[8]=l*u-m*n,r[9]=l*s-m*a,r[10]=l*c-m*o,r[11]=l*f-m*i,t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r},rotateY:function(t,e,r){r=r||new b(16);const n=t[0],a=t[1],o=t[2],i=t[3],u=t[8],s=t[9],c=t[10],f=t[11],l=Math.cos(e),m=Math.sin(e);return r[0]=l*n-m*u,r[1]=l*a-m*s,r[2]=l*o-m*c,r[3]=l*i-m*f,r[8]=l*u+m*n,r[9]=l*s+m*a,r[10]=l*c+m*o,r[11]=l*f+m*i,t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r},rotateZ:function(t,e,r){r=r||new b(16);const n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=Math.cos(e),m=Math.sin(e);return r[0]=l*n+m*u,r[1]=l*a+m*s,r[2]=l*o+m*c,r[3]=l*i+m*f,r[4]=l*u-m*n,r[5]=l*s-m*a,r[6]=l*c-m*o,r[7]=l*f-m*i,t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r},rotationX:function(t,e){e=e||new b(16);const r=Math.cos(t),n=Math.sin(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},rotationY:function(t,e){e=e||new b(16);const r=Math.cos(t),n=Math.sin(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},rotationZ:function(t,e){e=e||new b(16);const r=Math.cos(t),n=Math.sin(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},scale:function(t,e,r){r=r||new b(16);const n=e[0],a=e[1],o=e[2];return r[0]=n*t[0],r[1]=n*t[1],r[2]=n*t[2],r[3]=n*t[3],r[4]=a*t[4],r[5]=a*t[5],r[6]=a*t[6],r[7]=a*t[7],r[8]=o*t[8],r[9]=o*t[9],r[10]=o*t[10],r[11]=o*t[11],t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r},scaling:function(t,e){return(e=e||new b(16))[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},setAxis:function(t,e,r,n){n!==t&&(n=d(t,n));const a=4*r;return n[a+0]=e[0],n[a+1]=e[1],n[a+2]=e[2],n},setDefaultType:function(t){const e=b;return b=t,e},setTranslation:function(t,e,r){return t!==(r=r||y())&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11]),r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},transformDirection:v,transformNormal:function(t,e,r){r=r||a();const n=p(t),o=e[0],i=e[1],u=e[2];return r[0]=o*n[0]+i*n[1]+u*n[2],r[1]=o*n[4]+i*n[5]+u*n[6],r[2]=o*n[8]+i*n[9]+u*n[10],r},transformPoint:M,translate:function(t,e,r){r=r||new b(16);const n=e[0],a=e[1],o=e[2],i=t[0],u=t[1],s=t[2],c=t[3],f=t[4],l=t[5],m=t[6],h=t[7],d=t[8],y=t[9],p=t[10],M=t[11],v=t[12],x=t[13],g=t[14],A=t[15];return t!==r&&(r[0]=i,r[1]=u,r[2]=s,r[3]=c,r[4]=f,r[5]=l,r[6]=m,r[7]=h,r[8]=d,r[9]=y,r[10]=p,r[11]=M),r[12]=i*n+f*a+d*o+v,r[13]=u*n+l*a+y*o+x,r[14]=s*n+m*a+p*o+g,r[15]=c*n+h*a+M*o+A,r},translation:function(t,e){return(e=e||new b(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},transpose:function(t,e){if((e=e||new b(16))===t){let r;return r=t[1],t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,e}const r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],m=t[10],h=t[11],d=t[12],y=t[13],p=t[14],M=t[15];return e[0]=r,e[1]=i,e[2]=f,e[3]=d,e[4]=n,e[5]=u,e[6]=l,e[7]=y,e[8]=a,e[9]=s,e[10]=m,e[11]=p,e[12]=o,e[13]=c,e[14]=h,e[15]=M,e}});const g=5120,A=5121,F=5122,w=5123,E=5124,T=5125,P=5126,_={};{const t=_;t[g]=Int8Array,t[A]=Uint8Array,t[F]=Int16Array,t[w]=Uint16Array,t[E]=Int32Array,t[T]=Uint32Array,t[P]=Float32Array,t[32819]=Uint16Array,t[32820]=Uint16Array,t[33635]=Uint16Array,t[5131]=Uint16Array,t[33640]=Uint32Array,t[35899]=Uint32Array,t[35902]=Uint32Array,t[36269]=Uint32Array,t[34042]=Uint32Array}function S(t){if(t instanceof Int8Array)return g;if(t instanceof Uint8Array)return A;if(t instanceof Uint8ClampedArray)return A;if(t instanceof Int16Array)return F;if(t instanceof Uint16Array)return w;if(t instanceof Int32Array)return E;if(t instanceof Uint32Array)return T;if(t instanceof Float32Array)return P;throw new Error("unsupported typed array type")}function I(t){if(t===Int8Array)return g;if(t===Uint8Array)return A;if(t===Uint8ClampedArray)return A;if(t===Int16Array)return F;if(t===Uint16Array)return w;if(t===Int32Array)return E;if(t===Uint32Array)return T;if(t===Float32Array)return P;throw new Error("unsupported typed array type")}function B(t){const e=_[t];if(!e)throw new Error("unknown gl type");return e}const R="undefined"!=typeof SharedArrayBuffer?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};var z=Object.freeze({__proto__:null,getGLTypeForTypedArray:S,getGLTypeForTypedArrayType:I,getTypedArrayTypeForGLType:B,isArrayBuffer:R});function C(t,e){Object.keys(e).forEach((function(r){e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(e[r]=t[r])}))}function O(...t){console.error(...t)}function k(...t){console.warn(...t)}const U=new Map;function D(t,e){if(!t||"object"!=typeof t)return!1;let r=U.get(e);r||(r=new WeakMap,U.set(e,r));let n=r.get(t);if(void 0===n){const a=Object.prototype.toString.call(t);n=a.substring(8,a.length-1)===e,r.set(t,n)}return n}function L(t,e){return"undefined"!=typeof WebGLRenderbuffer&&D(e,"WebGLRenderbuffer")}function q(t,e){return"undefined"!=typeof WebGLTexture&&D(e,"WebGLTexture")}const V=35044,j=34962,W=34963,G=34660,N=5120,Y=5121,$=5122,X=5123,H=5124,Q=5125,Z=5126,K={attribPrefix:""};function J(t){K.attribPrefix=t}function tt(t){C(t,K)}function et(t,e,r,n,a){t.bindBuffer(e,r),t.bufferData(e,n,a||V)}function rt(t,e,r,n){if("undefined"!=typeof WebGLBuffer&&D(e,"WebGLBuffer"))return e;r=r||j;const a=t.createBuffer();return et(t,r,a,e,n),a}function nt(t){return"indices"===t}function at(t){return t.length?t:t.data}const ot=/coord|texture/i,it=/color|colour/i;function ut(t,e,r){return t.numComponents||t.size||function(t,e){let r;if(r=ot.test(t)?2:it.test(t)?4:3,e%r>0)throw new Error(`Can not guess numComponents for attribute '${t}'. Tried ${r} but ${e} values is not evenly divisible by ${r}. You should specify it.`);return r}(e,r||at(t).length)}function st(t,e){if(R(t))return t;if(R(t.data))return t.data;Array.isArray(t)&&(t={data:t});let r=t.type?ct(t.type):void 0;return r||(r=nt(e)?Uint16Array:Float32Array),new r(t.data)}function ct(t){return"number"==typeof t?B(t):t||Float32Array}function ft(t,e){return{buffer:e.buffer,numValues:24,type:(r=e.type,"number"==typeof r?r:r?I(r):Z),arrayType:ct(e.type)};var r}function lt(t,e){const r=e.data||e,n=ct(e.type),a=r*n.BYTES_PER_ELEMENT,o=t.createBuffer();return t.bindBuffer(j,o),t.bufferData(j,a,e.drawType||V),{buffer:o,numValues:r,type:I(n),arrayType:n}}function mt(t,e,r){const n=st(e,r);return{arrayType:n.constructor,buffer:rt(t,n,void 0,e.drawType),type:S(n),numValues:0}}function ht(t,e){const r={};return Object.keys(e).forEach((function(n){if(!nt(n)){const o=e[n],i=o.attrib||o.name||o.attribName||K.attribPrefix+n;if(o.value){if(!Array.isArray(o.value)&&!R(o.value))throw new Error("array.value is not array or typedarray");r[i]={value:o.value}}else{let e;e=o.buffer&&o.buffer instanceof WebGLBuffer?ft:"number"==typeof o||"number"==typeof o.data?lt:mt;const{buffer:u,type:s,numValues:c,arrayType:f}=e(t,o,n),l=void 0!==o.normalize?o.normalize:(a=f)===Int8Array||a===Uint8Array,m=ut(o,n,c);r[i]={buffer:u,numComponents:m,type:s,normalize:l,stride:o.stride||0,offset:o.offset||0,divisor:void 0===o.divisor?void 0:o.divisor,drawType:o.drawType}}}var a})),t.bindBuffer(j,null),r}function bt(t,e,r,n){r=st(r),void 0!==n?(t.bindBuffer(j,e.buffer),t.bufferSubData(j,n,r)):et(t,j,e.buffer,r,e.drawType)}const dt=["position","positions","a_position"];function yt(t,e,r){const n=ht(t,e),a=Object.assign({},r||{});a.attribs=Object.assign({},r?r.attribs:{},n);const o=e.indices;if(o){const e=st(o,"indices");a.indices=rt(t,e,W),a.numElements=e.length,a.elementType=S(e)}else a.numElements||(a.numElements=function(t,e){let r,n;for(n=0;n<dt.length&&(r=dt[n],!(r in e))&&(r=K.attribPrefix+r,!(r in e));++n);n===dt.length&&(r=Object.keys(e)[0]);const a=e[r];if(!a.buffer)return 1;t.bindBuffer(j,a.buffer);const o=t.getBufferParameter(j,G);var i;t.bindBuffer(j,null);const u=o/((i=a.type)===N||i===Y?1:i===$||i===X?2:i===H||i===Q||i===Z?4:0),s=a.numComponents||a.size,c=u/s;if(c%1!=0)throw new Error(`numComponents ${s} not correct for length ${length}`);return c}(t,a.attribs));return a}function pt(t,e,r){const n="indices"===r?W:j;return rt(t,st(e,r),n)}function Mt(t,e){const r={};return Object.keys(e).forEach((function(n){r[n]=pt(t,e[n],n)})),e.indices?(r.numElements=e.indices.length,r.elementType=S(st(e.indices))):r.numElements=function(t){let e,r;for(r=0;r<dt.length&&(e=dt[r],!(e in t));++r);r===dt.length&&(e=Object.keys(t)[0]);const n=t[e],a=at(n).length;if(void 0===a)return 1;const o=ut(n,e),i=a/o;if(a%o>0)throw new Error(`numComponents ${o} not correct for length ${a}`);return i}(e),r}var vt=Object.freeze({__proto__:null,createAttribsFromArrays:ht,createBuffersFromArrays:Mt,createBufferFromArray:pt,createBufferFromTypedArray:rt,createBufferInfoFromArrays:yt,setAttribInfoBufferFromArray:bt,setAttributePrefix:J,setAttributeDefaults_:tt,getNumComponents_:ut,getArray_:at});const xt=at,gt=ut;function At(t,e){let r=0;return t.push=function(){for(let e=0;e<arguments.length;++e){const n=arguments[e];if(n instanceof Array||R(n))for(let e=0;e<n.length;++e)t[r++]=n[e];else t[r++]=n}},t.reset=function(t){r=t||0},t.numComponents=e,Object.defineProperty(t,"numElements",{get:function(){return this.length/this.numComponents|0}}),t}function Ft(t,e,r){return At(new(r||Float32Array)(t*e),t)}function wt(t){return"indices"!==t}function Et(t,e,r){const n=t.length,a=new Float32Array(3);for(let o=0;o<n;o+=3)r(e,[t[o],t[o+1],t[o+2]],a),t[o]=a[0],t[o+1]=a[1],t[o+2]=a[2]}function Tt(t,e,r){r=r||a();const n=e[0],o=e[1],i=e[2];return r[0]=n*t[0]+o*t[1]+i*t[2],r[1]=n*t[4]+o*t[5]+i*t[6],r[2]=n*t[8]+o*t[9]+i*t[10],r}function Pt(t,e){return Et(t,e,v),t}function _t(t,e){return Et(t,p(e),Tt),t}function St(t,e){return Et(t,e,M),t}function It(t,e){return Object.keys(t).forEach((function(r){const n=t[r];r.indexOf("pos")>=0?St(n,e):r.indexOf("tan")>=0||r.indexOf("binorm")>=0?Pt(n,e):r.indexOf("norm")>=0&&_t(n,e)})),t}function Bt(t,e,r){return t=t||2,{position:{numComponents:2,data:[(e=e||0)+-1*(t*=.5),(r=r||0)+-1*t,e+1*t,r+-1*t,e+-1*t,r+1*t,e+1*t,r+1*t]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function Rt(t,e,r,n,a){t=t||1,e=e||1,r=r||1,n=n||1,a=a||y();const o=(r+1)*(n+1),i=Ft(3,o),u=Ft(3,o),s=Ft(2,o);for(let a=0;a<=n;a++)for(let o=0;o<=r;o++){const c=o/r,f=a/n;i.push(t*c-.5*t,0,e*f-.5*e),u.push(0,1,0),s.push(c,f)}const c=r+1,f=Ft(3,r*n*2,Uint16Array);for(let t=0;t<n;t++)for(let e=0;e<r;e++)f.push((t+0)*c+e,(t+1)*c+e,(t+0)*c+e+1),f.push((t+1)*c+e,(t+1)*c+e+1,(t+0)*c+e+1);return It({position:i,normal:u,texcoord:s,indices:f},a)}function zt(t,e,r,n,a,o,i){if(e<=0||r<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,o=o||0;const u=(a=a||Math.PI)-n,s=(i=i||2*Math.PI)-o,c=(e+1)*(r+1),f=Ft(3,c),l=Ft(3,c),m=Ft(2,c);for(let a=0;a<=r;a++)for(let i=0;i<=e;i++){const c=i/e,h=a/r,b=s*c+o,d=u*h+n,y=Math.sin(b),p=Math.cos(b),M=Math.sin(d),v=p*M,x=Math.cos(d),g=y*M;f.push(t*v,t*x,t*g),l.push(v,x,g),m.push(1-c,h)}const h=e+1,b=Ft(3,e*r*2,Uint16Array);for(let t=0;t<e;t++)for(let e=0;e<r;e++)b.push((e+0)*h+t,(e+0)*h+t+1,(e+1)*h+t),b.push((e+1)*h+t,(e+0)*h+t+1,(e+1)*h+t+1);return{position:f,normal:l,texcoord:m,indices:b}}const Ct=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function Ot(t){const e=(t=t||1)/2,r=[[-e,-e,-e],[+e,-e,-e],[-e,+e,-e],[+e,+e,-e],[-e,-e,+e],[+e,-e,+e],[-e,+e,+e],[+e,+e,+e]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],a=[[1,0],[0,0],[0,1],[1,1]],o=Ft(3,24),i=Ft(3,24),u=Ft(2,24),s=Ft(3,12,Uint16Array);for(let t=0;t<6;++t){const e=Ct[t];for(let s=0;s<4;++s){const c=r[e[s]],f=n[t],l=a[s];o.push(c),i.push(f),u.push(l)}const c=4*t;s.push(c+0,c+1,c+2),s.push(c+0,c+2,c+3)}return{position:o,normal:i,texcoord:u,indices:s}}function kt(t,e,r,n,a,o,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(a<1)throw new Error("verticalSubdivisions must be 1 or greater");const u=void 0===o||o,s=void 0===i||i,c=(u?2:0)+(s?2:0),f=(n+1)*(a+1+c),l=Ft(3,f),m=Ft(3,f),h=Ft(2,f),b=Ft(3,n*(a+c/2)*2,Uint16Array),d=n+1,y=Math.atan2(t-e,r),p=Math.cos(y),M=Math.sin(y),v=a+(s?2:0);for(let o=u?-2:0;o<=v;++o){let i,u=o/a,s=r*u;o<0?(s=0,u=1,i=t):o>a?(s=r,u=1,i=e):i=t+o/a*(e-t),-2!==o&&o!==a+2||(i=0,u=0),s-=r/2;for(let t=0;t<d;++t){const e=Math.sin(t*Math.PI*2/n),r=Math.cos(t*Math.PI*2/n);l.push(e*i,s,r*i),o<0?m.push(0,-1,0):o>a?m.push(0,1,0):0===i?m.push(0,0,0):m.push(e*p,M,r*p),h.push(t/n,1-u)}}for(let t=0;t<a+c;++t)if(!(1===t&&u||t===a+c-2&&s))for(let e=0;e<n;++e)b.push(d*(t+0)+0+e,d*(t+0)+1+e,d*(t+1)+1+e),b.push(d*(t+0)+0+e,d*(t+1)+1+e,d*(t+1)+0+e);return{position:l,normal:m,texcoord:h,indices:b}}function Ut(t,e){e=e||[];const r=[];for(let n=0;n<t.length;n+=4){const a=t[n],o=t.slice(n+1,n+4);o.push.apply(o,e);for(let t=0;t<a;++t)r.push.apply(r,o)}return r}function Dt(){const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=Ut([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),r=Ut([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=t.length/3,a={position:Ft(3,n),texcoord:Ft(2,n),normal:Ft(3,n),color:Ft(4,n,Uint8Array),indices:Ft(3,n/3,Uint16Array)};a.position.push(t),a.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),a.normal.push(e),a.color.push(r);for(let t=0;t<n;++t)a.indices.push(t);return a}function Lt(t,e,r,n,a,i,u){if(a<=0)throw new Error("subdivisionDown must be > 0");const s=(u=u||1)-(i=i||0),f=2*(a+1)*4,l=Ft(3,f),m=Ft(3,f),h=Ft(2,f);function b(t,e,r){return t+(e-t)*r}function d(e,r,u,f,d,y){for(let p=0;p<=a;p++){const M=r/1,v=p/a,x=2*(M-.5),g=(i+v*s)*Math.PI,A=Math.sin(g),F=Math.cos(g),w=b(t,e,A),E=x*n,T=F*t,P=A*w;l.push(E,T,P);const _=o(c([0,A,F],u),f);m.push(_),h.push(M*d+y,v)}}for(let t=0;t<2;t++){const n=2*(t/1-.5);d(e,t,[1,1,1],[0,0,0],1,0),d(e,t,[0,0,0],[n,0,0],0,0),d(r,t,[1,1,1],[0,0,0],1,0),d(r,t,[0,0,0],[n,0,0],0,1)}const y=Ft(3,2*a*4,Uint16Array);function p(t,e){for(let r=0;r<a;++r)y.push(t+r+0,t+r+1,e+r+0),y.push(t+r+1,e+r+1,e+r+0)}const M=a+1;return p(0*M,4*M),p(5*M,7*M),p(6*M,2*M),p(3*M,1*M),{position:l,normal:m,texcoord:h,indices:y}}function qt(t,e,r,n,a,o){return kt(t,t,e,r,n,a,o)}function Vt(t,e,r,n,a,o){if(r<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");a=a||0;const i=(o=o||2*Math.PI)-a,u=r+1,s=n+1,c=u*s,f=Ft(3,c),l=Ft(3,c),m=Ft(2,c),h=Ft(3,r*n*2,Uint16Array);for(let o=0;o<s;++o){const s=o/n,c=s*Math.PI*2,h=Math.sin(c),b=t+h*e,d=Math.cos(c),y=d*e;for(let t=0;t<u;++t){const e=t/r,n=a+e*i,o=Math.sin(n),u=Math.cos(n),c=o*b,p=u*b,M=o*h,v=u*h;f.push(c,y,p),l.push(M,d,v),m.push(e,1-s)}}for(let t=0;t<n;++t)for(let e=0;e<r;++e){const r=1+e,n=1+t;h.push(u*t+e,u*n+e,u*t+r),h.push(u*n+e,u*n+r,u*t+r)}return{position:f,normal:l,texcoord:m,indices:h}}function jt(t,e,r,n,a){if(e<3)throw new Error("divisions must be at least 3");a=a||1,n=n||0;const o=(e+1)*((r=r||1)+1),i=Ft(3,o),u=Ft(3,o),s=Ft(2,o),c=Ft(3,r*e*2,Uint16Array);let f=0;const l=t-n,m=e+1;for(let t=0;t<=r;++t){const o=n+l*Math.pow(t/r,a);for(let n=0;n<=e;++n){const a=2*Math.PI*n/e,l=o*Math.cos(a),h=o*Math.sin(a);if(i.push(l,0,h),u.push(0,1,0),s.push(1-n/e,t/r),t>0&&n!==e){const t=f+(n+1),e=f+n,r=f+n-m,a=f+(n+1)-m;c.push(t,e,r),c.push(t,r,a)}}f+=e+1}return{position:i,normal:u,texcoord:s,indices:c}}function Wt(t){return function(e){return Mt(e,t.apply(this,Array.prototype.slice.call(arguments,1)))}}function Gt(t){return function(e){return yt(e,t.apply(null,Array.prototype.slice.call(arguments,1)))}}const Nt=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function Yt(t,e,r,n){n=n||0;const a=t.length;for(let o=0;o<a;++o)e[r+o]=t[o]+n}function $t(t,e){const r=xt(t),n=new r.constructor(e);let a=n;var o,i;return r.numComponents&&r.numElements&&At(n,r.numComponents),t.data&&(a={data:n},o=t,i=a,Nt.forEach((function(t){const e=o[t];void 0!==e&&(i[t]=e)}))),a}const Xt=Gt(Dt),Ht=Wt(Dt),Qt=Gt(Ot),Zt=Wt(Ot),Kt=Gt(Rt),Jt=Wt(Rt),te=Gt(zt),ee=Wt(zt),re=Gt(kt),ne=Wt(kt),ae=Gt(Bt),oe=Wt(Bt),ie=Gt(Lt),ue=Wt(Lt),se=Gt(qt),ce=Wt(qt),fe=Gt(Vt),le=Wt(Vt),me=Gt(jt),he=Wt(jt),be=ie,de=ue,ye=Lt;var pe=Object.freeze({__proto__:null,create3DFBufferInfo:Xt,create3DFBuffers:Ht,create3DFVertices:Dt,createAugmentedTypedArray:Ft,createCubeBufferInfo:Qt,createCubeBuffers:Zt,createCubeVertices:Ot,createPlaneBufferInfo:Kt,createPlaneBuffers:Jt,createPlaneVertices:Rt,createSphereBufferInfo:te,createSphereBuffers:ee,createSphereVertices:zt,createTruncatedConeBufferInfo:re,createTruncatedConeBuffers:ne,createTruncatedConeVertices:kt,createXYQuadBufferInfo:ae,createXYQuadBuffers:oe,createXYQuadVertices:Bt,createCresentBufferInfo:be,createCresentBuffers:de,createCresentVertices:ye,createCrescentBufferInfo:ie,createCrescentBuffers:ue,createCrescentVertices:Lt,createCylinderBufferInfo:se,createCylinderBuffers:ce,createCylinderVertices:qt,createTorusBufferInfo:fe,createTorusBuffers:le,createTorusVertices:Vt,createDiscBufferInfo:me,createDiscBuffers:he,createDiscVertices:jt,deindexVertices:function(t){const e=t.indices,r={},n=e.length;return Object.keys(t).filter(wt).forEach((function(a){const o=t[a],i=o.numComponents,u=Ft(i,n,o.constructor);for(let t=0;t<n;++t){const r=e[t]*i;for(let t=0;t<i;++t)u.push(o[r+t])}r[a]=u})),r},flattenNormals:function(t){if(t.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");const e=t.normal,r=e.length;for(let t=0;t<r;t+=9){const r=e[t+0],n=e[t+1],a=e[t+2],o=e[t+3],i=e[t+4],u=e[t+5];let s=r+o+e[t+6],c=n+i+e[t+7],f=a+u+e[t+8];const l=Math.sqrt(s*s+c*c+f*f);s/=l,c/=l,f/=l,e[t+0]=s,e[t+1]=c,e[t+2]=f,e[t+3]=s,e[t+4]=c,e[t+5]=f,e[t+6]=s,e[t+7]=c,e[t+8]=f}return t},makeRandomVertexColors:function(t,e){e=e||{};const r=t.position.numElements,n=Ft(4,r,Uint8Array),a=e.rand||function(t,e){return e<3?(256,256*Math.random()|0):255};if(t.color=n,t.indices)for(let t=0;t<r;++t)n.push(a(t,0),a(t,1),a(t,2),a(t,3));else{const t=e.vertsPerColor||3,o=r/t;for(let e=0;e<o;++e){const r=[a(e,0),a(e,1),a(e,2),a(e,3)];for(let e=0;e<t;++e)n.push(r)}}return t},reorientDirections:Pt,reorientNormals:_t,reorientPositions:St,reorientVertices:It,concatVertices:function(t){const e={};let r;for(let n=0;n<t.length;++n){const a=t[n];Object.keys(a).forEach((function(t){e[t]||(e[t]=[]),r||"indices"===t||(r=t);const n=a[t],o=gt(n,t),i=xt(n).length/o;e[t].push(i)}))}const n=e[r],a={};return Object.keys(e).forEach((function(e){const r=function(e){let r,n=0;for(let a=0;a<t.length;++a){const o=t[a][e];n+=xt(o).length,r&&!o.data||(r=o)}return{length:n,spec:r}}(e),o=$t(r.spec,r.length);!function(e,r,n){let a=0,o=0;for(let i=0;i<t.length;++i){const u=t[i][e],s=xt(u);"indices"===e?(Yt(s,n,o,a),a+=r[i]):Yt(s,n,o),o+=s.length}}(e,n,xt(o)),a[e]=o})),a},duplicateVertices:function(t){const e={};return Object.keys(t).forEach((function(r){const n=t[r],a=xt(n),o=$t(n,a.length);Yt(a,xt(o),0),e[r]=o})),e}});function Me(t){return!!t.texStorage2D}function ve(t){return!t.texStorage2D}const xe=function(){const t={},e={};return function(r,n){return function(r){const n=r.constructor.name;if(!t[n]){for(const t in r)if("number"==typeof r[t]){const n=e[r[t]];e[r[t]]=n?`${n} | ${t}`:t}t[n]=!0}}(r),e[n]||("number"==typeof n?`0x${n.toString(16)}`:n)}}();var ge=Object.freeze({__proto__:null,glEnumToString:xe,isWebGL1:ve,isWebGL2:Me});const Ae={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},Fe=R,we=function(){let t;return function(){return t=t||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null),t}}(),Ee=6406,Te=6407,Pe=6408,_e=6409,Se=6410,Ie=6402,Be=34041,Re=33071,ze=9728,Ce=9729,Oe=3553,ke=34067,Ue=32879,De=35866,Le=34069,qe=34070,Ve=34071,je=34072,We=34073,Ge=34074,Ne=10241,Ye=10240,$e=10242,Xe=10243,He=32882,Qe=33082,Ze=33083,Ke=33084,Je=33085,tr=34892,er=34893,rr=3317,nr=3314,ar=32878,or=3316,ir=3315,ur=32877,sr=37443,cr=37441,fr=37440,lr=33321,mr=36756,hr=33325,br=33326,dr=33330,yr=33329,pr=33338,Mr=33337,vr=33340,xr=33339,gr=33323,Ar=36757,Fr=33327,wr=33328,Er=33336,Tr=33335,Pr=33332,_r=33331,Sr=33334,Ir=33333,Br=32849,Rr=35905,zr=36194,Cr=36758,Or=35898,kr=35901,Ur=34843,Dr=34837,Lr=36221,qr=36239,Vr=36215,jr=36233,Wr=36209,Gr=36227,Nr=32856,Yr=35907,$r=36759,Xr=32855,Hr=32854,Qr=32857,Zr=34842,Kr=34836,Jr=36220,tn=36238,en=36975,rn=36214,nn=36232,an=36226,on=36208,un=33189,sn=33190,cn=36012,fn=36013,ln=35056,mn=5120,hn=5121,bn=5122,dn=5123,yn=5124,pn=5125,Mn=5126,vn=32819,xn=32820,gn=33635,An=5131,Fn=36193,wn=33640,En=35899,Tn=35902,Pn=36269,_n=34042,Sn=33319,In=33320,Bn=6403,Rn=36244,zn=36248,Cn=36249,On={};{const t=On;t[Ee]={numColorComponents:1},t[_e]={numColorComponents:1},t[Se]={numColorComponents:2},t[Te]={numColorComponents:3},t[Pe]={numColorComponents:4},t[Bn]={numColorComponents:1},t[Rn]={numColorComponents:1},t[Sn]={numColorComponents:2},t[In]={numColorComponents:2},t[Te]={numColorComponents:3},t[zn]={numColorComponents:3},t[Pe]={numColorComponents:4},t[Cn]={numColorComponents:4},t[Ie]={numColorComponents:1},t[Be]={numColorComponents:2}}let kn;function Un(t){if(!kn){const t={};t[Ee]={textureFormat:Ee,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[hn,An,Fn,Mn]},t[_e]={textureFormat:_e,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[hn,An,Fn,Mn]},t[Se]={textureFormat:Se,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[hn,An,Fn,Mn]},t[Te]={textureFormat:Te,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[hn,An,Fn,Mn,gn]},t[Pe]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[hn,An,Fn,Mn,vn,xn]},t[Ie]={textureFormat:Ie,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[pn,dn]},t[lr]={textureFormat:Bn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[hn]},t[mr]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[mn]},t[hr]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Mn,An]},t[br]={textureFormat:Bn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Mn]},t[dr]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[hn]},t[yr]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[mn]},t[Pr]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[dn]},t[_r]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[bn]},t[Sr]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[pn]},t[Ir]={textureFormat:Rn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[yn]},t[gr]={textureFormat:Sn,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[hn]},t[Ar]={textureFormat:Sn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[mn]},t[Fr]={textureFormat:Sn,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Mn,An]},t[wr]={textureFormat:Sn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Mn]},t[Er]={textureFormat:In,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[hn]},t[Tr]={textureFormat:In,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[mn]},t[pr]={textureFormat:In,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[dn]},t[Mr]={textureFormat:In,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[bn]},t[vr]={textureFormat:In,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[pn]},t[xr]={textureFormat:In,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[yn]},t[Br]={textureFormat:Te,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[hn]},t[Rr]={textureFormat:Te,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[hn]},t[zr]={textureFormat:Te,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[hn,gn]},t[Cr]={textureFormat:Te,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[mn]},t[Or]={textureFormat:Te,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Mn,An,En]},t[kr]={textureFormat:Te,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Mn,An,Tn]},t[Ur]={textureFormat:Te,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Mn,An]},t[Dr]={textureFormat:Te,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Mn]},t[Lr]={textureFormat:zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[hn]},t[qr]={textureFormat:zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[mn]},t[Vr]={textureFormat:zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[dn]},t[jr]={textureFormat:zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[bn]},t[Wr]={textureFormat:zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[pn]},t[Gr]={textureFormat:zn,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[yn]},t[Nr]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[hn]},t[Yr]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[hn]},t[$r]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[mn]},t[Xr]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[hn,xn,wn]},t[Hr]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[hn,vn]},t[Qr]={textureFormat:Pe,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[wn]},t[Zr]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Mn,An]},t[Kr]={textureFormat:Pe,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Mn]},t[Jr]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[hn]},t[tn]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[mn]},t[en]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[wn]},t[rn]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[dn]},t[nn]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[bn]},t[an]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[yn]},t[on]={textureFormat:Cn,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[pn]},t[un]={textureFormat:Ie,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[dn,pn]},t[sn]={textureFormat:Ie,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[pn]},t[cn]={textureFormat:Ie,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Mn]},t[ln]={textureFormat:Be,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[_n]},t[fn]={textureFormat:Be,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Pn]},Object.keys(t).forEach((function(e){const r=t[e];r.bytesPerElementMap={},r.bytesPerElement.forEach((function(t,e){const n=r.type[e];r.bytesPerElementMap[n]=t}))})),kn=t}return kn[t]}function Dn(t,e){const r=Un(t);if(!r)throw"unknown internal format";const n=r.bytesPerElementMap[e];if(void 0===n)throw"unknown internal format";return n}function Ln(t){const e=Un(t);if(!e)throw"unknown internal format";return{format:e.textureFormat,type:e.type[0]}}function qn(t){return 0==(t&t-1)}function Vn(t,e,r,n){if(!Me(t))return qn(e)&&qn(r);const a=Un(n);if(!a)throw"unknown internal format";return a.colorRenderable&&a.textureFilterable}function jn(t){const e=Un(t);if(!e)throw"unknown internal format";return e.textureFilterable}function Wn(t){const e=On[t];if(!e)throw"unknown format: "+t;return e.numColorComponents}function Gn(t,e,r){return Fe(e)?S(e):r||hn}function Nn(t,e,r,n,a){if(a%1!=0)throw"can't guess dimensions";if(r||n){if(n){if(!r&&(r=a/n)%1)throw"can't guess dimensions"}else if((n=a/r)%1)throw"can't guess dimensions"}else{const t=Math.sqrt(a/(e===ke?6:1));t%1==0?(r=t,n=t):(r=a,n=1)}return{width:r,height:n}}function Yn(t){Ae.textureColor=new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}function $n(t){C(t,Ae),t.textureColor&&Yn(t.textureColor)}function Xn(t,e){void 0!==e.colorspaceConversion&&t.pixelStorei(sr,e.colorspaceConversion),void 0!==e.premultiplyAlpha&&t.pixelStorei(cr,e.premultiplyAlpha),void 0!==e.flipY&&t.pixelStorei(fr,e.flipY)}function Hn(t){t.pixelStorei(rr,4),Me(t)&&(t.pixelStorei(nr,0),t.pixelStorei(ar,0),t.pixelStorei(or,0),t.pixelStorei(ir,0),t.pixelStorei(ur,0))}function Qn(t,e,r,n){n.minMag&&(r.call(t,e,Ne,n.minMag),r.call(t,e,Ye,n.minMag)),n.min&&r.call(t,e,Ne,n.min),n.mag&&r.call(t,e,Ye,n.mag),n.wrap&&(r.call(t,e,$e,n.wrap),r.call(t,e,Xe,n.wrap),(e===Ue||"undefined"!=typeof WebGLSampler&&D(e,"WebGLSampler"))&&r.call(t,e,He,n.wrap)),n.wrapR&&r.call(t,e,He,n.wrapR),n.wrapS&&r.call(t,e,$e,n.wrapS),n.wrapT&&r.call(t,e,Xe,n.wrapT),void 0!==n.minLod&&r.call(t,e,Qe,n.minLod),void 0!==n.maxLod&&r.call(t,e,Ze,n.maxLod),void 0!==n.baseLevel&&r.call(t,e,Ke,n.baseLevel),void 0!==n.maxLevel&&r.call(t,e,Je,n.maxLevel),void 0!==n.compareFunc&&r.call(t,e,er,n.compareFunc),void 0!==n.compareMode&&r.call(t,e,tr,n.compareMode)}function Zn(t,e,r){const n=r.target||Oe;t.bindTexture(n,e),Qn(t,n,t.texParameteri,r)}function Kn(t,e,r){Qn(t,e,t.samplerParameteri,r)}function Jn(t,e){const r=t.createSampler();return Kn(t,r,e),r}function ta(t,e){const r={};return Object.keys(e).forEach((function(n){r[n]=Jn(t,e[n])})),r}function ea(t,e,r,n,a,o){r=r||Ae.textureOptions,o=o||Pe;const i=r.target||Oe;if(n=n||r.width,a=a||r.height,t.bindTexture(i,e),Vn(t,n,a,o))t.generateMipmap(i);else{const e=jn(o)?Ce:ze;t.texParameteri(i,Ne,e),t.texParameteri(i,Ye,e),t.texParameteri(i,$e,Re),t.texParameteri(i,Xe,Re)}}function ra(t){return!0===t.auto||void 0===t.auto&&void 0===t.level}function na(t,e){return(e=e||{}).cubeFaceOrder||[Le,qe,Ve,je,We,Ge]}function aa(t,e){const r=na(0,e).map((function(t,e){return{face:t,ndx:e}}));return r.sort((function(t,e){return t.face-e.face})),r}function oa(t,e,r,n){const a=(n=n||Ae.textureOptions).target||Oe,o=n.level||0;let i=r.width,u=r.height;const s=n.internalFormat||n.format||Pe,c=Ln(s),f=n.format||c.format,l=n.type||c.type;if(Xn(t,n),t.bindTexture(a,e),a===ke){const c=r.width,m=r.height;let h,b;if(c/6===m)h=m,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(m/6===c)h=c,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(c/3==m/2)h=c/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(c/2!=m/3)throw"can't figure out cube map from element: "+(r.src?r.src:r.nodeName);h=c/2,b=[0,0,1,0,0,1,1,1,0,2,1,2]}const d=we();d?(d.canvas.width=h,d.canvas.height=h,i=h,u=h,aa(0,n).forEach((function(e){const n=b[2*e.ndx+0]*h,a=b[2*e.ndx+1]*h;d.drawImage(r,n,a,h,h,0,0,h,h),t.texImage2D(e.face,o,s,f,l,d.canvas)})),d.canvas.width=1,d.canvas.height=1):"undefined"!=typeof createImageBitmap&&(i=h,u=h,aa(0,n).forEach((function(c){const m=b[2*c.ndx+0]*h,d=b[2*c.ndx+1]*h;t.texImage2D(c.face,o,s,h,h,0,f,l,null),createImageBitmap(r,m,d,h,h,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(r){Xn(t,n),t.bindTexture(a,e),t.texImage2D(c.face,o,s,f,l,r),ra(n)&&ea(t,e,n,i,u,s)}))})))}else if(a===Ue||a===De){const e=Math.min(r.width,r.height),n=Math.max(r.width,r.height),i=n/e;if(i%1!=0)throw"can not compute 3D dimensions of element";const u=r.width===n?1:0,c=r.height===n?1:0;t.pixelStorei(rr,1),t.pixelStorei(nr,r.width),t.pixelStorei(ar,0),t.pixelStorei(ur,0),t.texImage3D(a,o,s,e,e,e,0,f,l,null);for(let n=0;n<i;++n){const i=n*e*u,s=n*e*c;t.pixelStorei(or,i),t.pixelStorei(ir,s),t.texSubImage3D(a,o,0,0,n,e,e,1,f,l,r)}Hn(t)}else t.texImage2D(a,o,s,f,l,r);ra(n)&&ea(t,e,n,i,u,s),Zn(t,e,n)}function ia(){}function ua(t){return"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof ImageData&&t instanceof ImageData||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}function sa(t,e,r){return ua(t)?(setTimeout((function(){r(null,t)})),t):function(t,e,r){let n;if(r=r||ia,e=void 0!==e?e:Ae.crossOrigin,e=function(t,e){return void 0!==e||function(t){if("undefined"!=typeof document){const e=document.createElement("a");return e.href=t,e.hostname===location.hostname&&e.port===location.port&&e.protocol===location.protocol}{const e=new URL(location.href).origin;return new URL(t,location.href).origin===e}}(t)?e:"anonymous"}(t,e),"undefined"!=typeof Image){n=new Image,void 0!==e&&(n.crossOrigin=e);const a=function(){n.removeEventListener("error",o),n.removeEventListener("load",i),n=null},o=function(){const e="couldn't load image: "+t;O(e),r(e,n),a()},i=function(){r(null,n),a()};return n.addEventListener("error",o),n.addEventListener("load",i),n.src=t,n}if("undefined"!=typeof ImageBitmap){let a,o;const i=function(){r(a,o)},u={};e&&(u.mode="cors"),fetch(t,u).then((function(t){if(!t.ok)throw t;return t.blob()})).then((function(t){return createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(t){o=t,setTimeout(i)})).catch((function(t){a=t,setTimeout(i)})),n=null}return n}(t,e,r)}function ca(t,e,r){const n=(r=r||Ae.textureOptions).target||Oe;if(t.bindTexture(n,e),!1===r.color)return;const a=function(t){return t=t||Ae.textureColor,Fe(t)?t:new Uint8Array([255*t[0],255*t[1],255*t[2],255*t[3]])}(r.color);if(n===ke)for(let e=0;e<6;++e)t.texImage2D(Le+e,0,Pe,1,1,0,Pe,hn,a);else n===Ue||n===De?t.texImage3D(n,0,Pe,1,1,1,0,Pe,hn,a):t.texImage2D(n,0,Pe,1,1,0,Pe,hn,a)}function fa(t,e,r,n){return n=n||ia,r=r||Ae.textureOptions,ca(t,e,r),sa((r=Object.assign({},r)).src,r.crossOrigin,(function(a,o){a?n(a,e,o):(oa(t,e,o,r),n(null,e,o))}))}function la(t,e,r,n){const a=(n=n||Ae.textureOptions).target||Oe;t.bindTexture(a,e);let o=n.width,i=n.height,u=n.depth;const s=n.level||0,c=n.internalFormat||n.format||Pe,f=Ln(c),l=n.format||f.format,m=n.type||Gn(0,r,f.type);if(Fe(r))r instanceof Uint8ClampedArray&&(r=new Uint8Array(r.buffer));else{const t=B(m);r=new t(r)}const h=Dn(c,m),b=r.byteLength/h;if(b%1)throw"length wrong size for format: "+xe(t,l);let d;if(a===Ue||a===De)if(o||i||u)!o||i&&u?!i||o&&u?(d=Nn(0,a,o,i,b/u),o=d.width,i=d.height):(d=Nn(0,a,o,u,b/i),o=d.width,u=d.height):(d=Nn(0,a,i,u,b/o),i=d.width,u=d.height);else{const t=Math.cbrt(b);if(t%1!=0)throw"can't guess cube size of array of numElements: "+b;o=t,i=t,u=t}else d=Nn(0,a,o,i,b),o=d.width,i=d.height;if(Hn(t),t.pixelStorei(rr,n.unpackAlignment||1),Xn(t,n),a===ke){const e=b/6*(h/r.BYTES_PER_ELEMENT);aa(0,n).forEach((n=>{const a=e*n.ndx,u=r.subarray(a,a+e);t.texImage2D(n.face,s,c,o,i,0,l,m,u)}))}else a===Ue||a===De?t.texImage3D(a,s,c,o,i,u,0,l,m,r):t.texImage2D(a,s,c,o,i,0,l,m,r);return{width:o,height:i,depth:u,type:m}}function ma(t,e,r){const n=r.target||Oe;t.bindTexture(n,e);const a=r.level||0,o=r.internalFormat||r.format||Pe,i=Ln(o),u=r.format||i.format,s=r.type||i.type;if(Xn(t,r),n===ke)for(let e=0;e<6;++e)t.texImage2D(Le+e,a,o,r.width,r.height,0,u,s,null);else n===Ue||n===De?t.texImage3D(n,a,o,r.width,r.height,r.depth,0,u,s,null):t.texImage2D(n,a,o,r.width,r.height,0,u,s,null)}function ha(t,e,r){r=r||ia,e=e||Ae.textureOptions;const n=t.createTexture(),a=e.target||Oe;let o=e.width||1,i=e.height||1;const u=e.internalFormat||Pe;t.bindTexture(a,n),a===ke&&(t.texParameteri(a,$e,Re),t.texParameteri(a,Xe,Re));let s=e.src;if(s)if("function"==typeof s&&(s=s(t,e)),"string"==typeof s)fa(t,n,e,r);else if(Fe(s)||Array.isArray(s)&&("number"==typeof s[0]||Array.isArray(s[0])||Fe(s[0]))){const r=la(t,n,s,e);o=r.width,i=r.height}else Array.isArray(s)&&("string"==typeof s[0]||ua(s[0]))?a===ke?function(t,e,r,n){n=n||ia;const a=r.src;if(6!==a.length)throw"there must be 6 urls for a cubemap";const o=r.level||0,i=r.internalFormat||r.format||Pe,u=Ln(i),s=r.format||u.format,c=r.type||hn,f=r.target||Oe;if(f!==ke)throw"target must be TEXTURE_CUBE_MAP";ca(t,e,r),r=Object.assign({},r);let l=6;const m=[],h=na(0,r);let b;b=a.map((function(a,u){return sa(a,r.crossOrigin,(d=h[u],function(a,u){--l,a?m.push(a):u.width!==u.height?m.push("cubemap face img is not a square: "+u.src):(Xn(t,r),t.bindTexture(f,e),5===l?na().forEach((function(e){t.texImage2D(e,o,i,s,c,u)})):t.texImage2D(d,o,i,s,c,u),ra(r)&&t.generateMipmap(f)),0===l&&n(m.length?m:void 0,e,b)}));var d}))}(t,n,e,r):function(t,e,r,n){n=n||ia;const a=r.src,o=r.internalFormat||r.format||Pe,i=Ln(o),u=r.format||i.format,s=r.type||hn,c=r.target||De;if(c!==Ue&&c!==De)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";ca(t,e,r),r=Object.assign({},r);let f=a.length;const l=[];let m;const h=r.level||0;let b=r.width,d=r.height;const y=a.length;let p=!0;m=a.map((function(a,i){return sa(a,r.crossOrigin,(M=i,function(a,i){if(--f,a)l.push(a);else{if(Xn(t,r),t.bindTexture(c,e),p){p=!1,b=r.width||i.width,d=r.height||i.height,t.texImage3D(c,h,o,b,d,y,0,u,s,null);for(let e=0;e<y;++e)t.texSubImage3D(c,h,0,0,e,b,d,1,u,s,i)}else{let e,r=i;i.width===b&&i.height===d||(e=we(),r=e.canvas,e.canvas.width=b,e.canvas.height=d,e.drawImage(i,0,0,b,d)),t.texSubImage3D(c,h,0,0,M,b,d,1,u,s,r),e&&r===e.canvas&&(e.canvas.width=0,e.canvas.height=0)}ra(r)&&t.generateMipmap(c)}0===f&&n(l.length?l:void 0,e,m)}));var M}))}(t,n,e,r):(oa(t,n,s,e),o=s.width,i=s.height);else ma(t,n,e);return ra(e)&&ea(t,n,e,o,i,u),Zn(t,n,e),n}function ba(t,e,r,n,a,o){n=n||r.width,a=a||r.height,o=o||r.depth;const i=r.target||Oe;t.bindTexture(i,e);const u=r.level||0,s=r.internalFormat||r.format||Pe,c=Ln(s),f=r.format||c.format;let l;const m=r.src;if(l=m&&(Fe(m)||Array.isArray(m)&&"number"==typeof m[0])?r.type||Gn(0,m,c.type):r.type||c.type,i===ke)for(let e=0;e<6;++e)t.texImage2D(Le+e,u,s,n,a,0,f,l,null);else i===Ue||i===De?t.texImage3D(i,u,s,n,a,o,0,f,l,null):t.texImage2D(i,u,s,n,a,0,f,l,null)}function da(t,e,r){r=r||ia;let n=0;const a=[],o={},i={};function u(){0===n&&setTimeout((function(){r(a.length?a:void 0,o,i)}),0)}return Object.keys(e).forEach((function(r){const s=e[r];let c;var f;("string"==typeof(f=s.src)||Array.isArray(f)&&"string"==typeof f[0])&&(c=function(t,e,o){i[r]=o,--n,t&&a.push(t),u()},++n),o[r]=ha(t,s,c)})),u(),o}var ya=Object.freeze({__proto__:null,setTextureDefaults_:$n,createSampler:Jn,createSamplers:ta,setSamplerParameters:Kn,createTexture:ha,setEmptyTexture:ma,setTextureFromArray:la,loadTextureFromUrl:fa,setTextureFromElement:oa,setTextureFilteringForSize:ea,setTextureParameters:Zn,setDefaultTextureColor:Yn,createTextures:da,resizeTexture:ba,canGenerateMipmap:Vn,canFilter:jn,getNumComponentsForFormat:Wn,getBytesPerElementForInternalFormat:Dn,getFormatAndTypeForInternalFormat:Ln});const pa=O,Ma=k;function va(t){return"undefined"!=typeof document&&document.getElementById?document.getElementById(t):null}const xa=33984,ga=35048,Aa=34962,Fa=34963,wa=35345,Ea=35982,Ta=36386,Pa=35713,_a=35714,Sa=35632,Ia=35633,Ba=35981,Ra=35718,za=35721,Ca=35971,Oa=35382,ka=35396,Ua=35398,Da=35392,La=35395,qa=5124,Va=3553,ja=34067,Wa=32879,Ga=35866,Na={};function Ya(t,e){return Na[e].bindPoint}function $a(t,e){return function(r){t.uniform1i(e,r)}}function Xa(t,e){return function(r){t.uniform1iv(e,r)}}function Ha(t,e){return function(r){t.uniform2iv(e,r)}}function Qa(t,e){return function(r){t.uniform3iv(e,r)}}function Za(t,e){return function(r){t.uniform4iv(e,r)}}function Ka(t,e,r,n){const a=Ya(0,e);return Me(t)?function(e){let o,i;!e||q(0,e)?(o=e,i=null):(o=e.texture,i=e.sampler),t.uniform1i(n,r),t.activeTexture(xa+r),t.bindTexture(a,o),t.bindSampler(r,i)}:function(e){t.uniform1i(n,r),t.activeTexture(xa+r),t.bindTexture(a,e)}}function Ja(t,e,r,n,a){const o=Ya(0,e),i=new Int32Array(a);for(let t=0;t<a;++t)i[t]=r+t;return Me(t)?function(e){t.uniform1iv(n,i),e.forEach((function(e,n){let a,u;t.activeTexture(xa+i[n]),!e||q(0,e)?(a=e,u=null):(a=e.texture,u=e.sampler),t.bindSampler(r,u),t.bindTexture(o,a)}))}:function(e){t.uniform1iv(n,i),e.forEach((function(e,r){t.activeTexture(xa+i[r]),t.bindTexture(o,e)}))}}function to(t,e){return function(r){if(r.value)switch(t.disableVertexAttribArray(e),r.value.length){case 4:t.vertexAttrib4fv(e,r.value);break;case 3:t.vertexAttrib3fv(e,r.value);break;case 2:t.vertexAttrib2fv(e,r.value);break;case 1:t.vertexAttrib1fv(e,r.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else t.bindBuffer(Aa,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,r.numComponents||r.size,r.type||5126,r.normalize||!1,r.stride||0,r.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,r.divisor||0)}}function eo(t,e){return function(r){if(r.value){if(t.disableVertexAttribArray(e),4!==r.value.length)throw new Error("The length of an integer constant value must be 4!");t.vertexAttrib4iv(e,r.value)}else t.bindBuffer(Aa,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,r.numComponents||r.size,r.type||qa,r.stride||0,r.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,r.divisor||0)}}function ro(t,e){return function(r){if(r.value){if(t.disableVertexAttribArray(e),4!==r.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");t.vertexAttrib4uiv(e,r.value)}else t.bindBuffer(Aa,r.buffer),t.enableVertexAttribArray(e),t.vertexAttribIPointer(e,r.numComponents||r.size,r.type||5125,r.stride||0,r.offset||0),t.vertexAttribDivisor&&t.vertexAttribDivisor(e,r.divisor||0)}}function no(t,e,r){const n=r.size,a=r.count;return function(r){t.bindBuffer(Aa,r.buffer);const o=r.size||r.numComponents||n,i=o/a,u=r.type||5126,s=Na[u].size*o,c=r.normalize||!1,f=r.offset||0,l=s/a;for(let n=0;n<a;++n)t.enableVertexAttribArray(e+n),t.vertexAttribPointer(e+n,i,u,c,s,f+l*n),t.vertexAttribDivisor&&t.vertexAttribDivisor(e+n,r.divisor||0)}}Na[5126]={Type:Float32Array,size:4,setter:function(t,e){return function(r){t.uniform1f(e,r)}},arraySetter:function(t,e){return function(r){t.uniform1fv(e,r)}}},Na[35664]={Type:Float32Array,size:8,setter:function(t,e){return function(r){t.uniform2fv(e,r)}},cols:2},Na[35665]={Type:Float32Array,size:12,setter:function(t,e){return function(r){t.uniform3fv(e,r)}},cols:3},Na[35666]={Type:Float32Array,size:16,setter:function(t,e){return function(r){t.uniform4fv(e,r)}},cols:4},Na[qa]={Type:Int32Array,size:4,setter:$a,arraySetter:Xa},Na[35667]={Type:Int32Array,size:8,setter:Ha,cols:2},Na[35668]={Type:Int32Array,size:12,setter:Qa,cols:3},Na[35669]={Type:Int32Array,size:16,setter:Za,cols:4},Na[5125]={Type:Uint32Array,size:4,setter:function(t,e){return function(r){t.uniform1ui(e,r)}},arraySetter:function(t,e){return function(r){t.uniform1uiv(e,r)}}},Na[36294]={Type:Uint32Array,size:8,setter:function(t,e){return function(r){t.uniform2uiv(e,r)}},cols:2},Na[36295]={Type:Uint32Array,size:12,setter:function(t,e){return function(r){t.uniform3uiv(e,r)}},cols:3},Na[36296]={Type:Uint32Array,size:16,setter:function(t,e){return function(r){t.uniform4uiv(e,r)}},cols:4},Na[35670]={Type:Uint32Array,size:4,setter:$a,arraySetter:Xa},Na[35671]={Type:Uint32Array,size:8,setter:Ha,cols:2},Na[35672]={Type:Uint32Array,size:12,setter:Qa,cols:3},Na[35673]={Type:Uint32Array,size:16,setter:Za,cols:4},Na[35674]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix2fv(e,!1,r)}},rows:2,cols:2},Na[35675]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix3fv(e,!1,r)}},rows:3,cols:3},Na[35676]={Type:Float32Array,size:64,setter:function(t,e){return function(r){t.uniformMatrix4fv(e,!1,r)}},rows:4,cols:4},Na[35685]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix2x3fv(e,!1,r)}},rows:2,cols:3},Na[35686]={Type:Float32Array,size:32,setter:function(t,e){return function(r){t.uniformMatrix2x4fv(e,!1,r)}},rows:2,cols:4},Na[35687]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix3x2fv(e,!1,r)}},rows:3,cols:2},Na[35688]={Type:Float32Array,size:48,setter:function(t,e){return function(r){t.uniformMatrix3x4fv(e,!1,r)}},rows:3,cols:4},Na[35689]={Type:Float32Array,size:64,setter:function(t,e){return function(r){t.uniformMatrix4x2fv(e,!1,r)}},rows:4,cols:2},Na[35690]={Type:Float32Array,size:64,setter:function(t,e){return function(r){t.uniformMatrix4x3fv(e,!1,r)}},rows:4,cols:3},Na[35678]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Va},Na[35680]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:ja},Na[35679]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Wa},Na[35682]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Va},Na[36289]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Ga},Na[36292]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Ga},Na[36293]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:ja},Na[36298]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Va},Na[36299]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Wa},Na[36300]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:ja},Na[36303]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Ga},Na[36306]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Va},Na[36307]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Wa},Na[36308]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:ja},Na[36311]={Type:null,size:0,setter:Ka,arraySetter:Ja,bindPoint:Ga};const ao={};ao[5126]={size:4,setter:to},ao[35664]={size:8,setter:to},ao[35665]={size:12,setter:to},ao[35666]={size:16,setter:to},ao[qa]={size:4,setter:eo},ao[35667]={size:8,setter:eo},ao[35668]={size:12,setter:eo},ao[35669]={size:16,setter:eo},ao[5125]={size:4,setter:ro},ao[36294]={size:8,setter:ro},ao[36295]={size:12,setter:ro},ao[36296]={size:16,setter:ro},ao[35670]={size:4,setter:eo},ao[35671]={size:8,setter:eo},ao[35672]={size:12,setter:eo},ao[35673]={size:16,setter:eo},ao[35674]={size:4,setter:no,count:2},ao[35675]={size:9,setter:no,count:3},ao[35676]={size:16,setter:no,count:4};const oo=/ERROR:\s*\d+:(\d+)/gi,io=/^[ \t]*\n/;function uo(t){let e=0;return io.test(t)&&(e=1,t=t.replace(io,"")),{lineOffset:e,shaderSource:t}}function so(t,e){return t.errorCallback(e),t.callback&&setTimeout((()=>{t.callback(`${e}\n${t.errors.join("\n")}`)})),null}function co(t,e,r){let n,a,o;if("function"==typeof e&&(r=e,e=void 0),"function"==typeof t)r=t,t=void 0;else if(t&&!Array.isArray(t)){const e=t;r=e.errorCallback,t=e.attribLocations,n=e.transformFeedbackVaryings,a=e.transformFeedbackMode,o=e.callback}const i=r||pa,u=[],s={errorCallback(t,...e){u.push(t),i(t,...e)},transformFeedbackVaryings:n,transformFeedbackMode:a,callback:o,errors:u};{let r={};Array.isArray(t)?t.forEach((function(t,n){r[t]=e?e[n]:n})):r=t||{},s.attribLocations=r}return s}const fo=["VERTEX_SHADER","FRAGMENT_SHADER"],lo=(t=0)=>new Promise((e=>setTimeout(e,t)));function mo(t,e,r){const n=t.createProgram(),{attribLocations:a,transformFeedbackVaryings:o,transformFeedbackMode:i}=co(r);for(let r=0;r<e.length;++r){let a=e[r];if("string"==typeof a){const e=va(a),o=e?e.text:a;let i=t[fo[r]];e&&e.type&&(i=((u=e.type).indexOf("frag")>=0?Sa:u.indexOf("vert")>=0?Ia:void 0)||i),a=t.createShader(i),t.shaderSource(a,uo(o).shaderSource),t.compileShader(a),t.attachShader(n,a)}}var u;Object.entries(a).forEach((([e,r])=>t.bindAttribLocation(n,r,e)));{let e=o;e&&(e.attribs&&(e=e.attribs),Array.isArray(e)||(e=Object.keys(e)),t.transformFeedbackVaryings(n,e,i||Ba))}return t.linkProgram(n),n}function ho(t,e,r,n,a){const o=co(r,n,a),i=new Set(e),u=mo(t,e,o);function s(t,e){const r=vo(t,e,o.errorCallback);return r&&function(t,e,r){const n=t.getAttachedShaders(e);for(const e of n)r.has(e)&&t.deleteShader(e);t.deleteProgram(e)}(t,e,i),r}if(!o.callback)return s(t,u)?void 0:u;Mo(t,u).then((()=>{const e=s(t,u);o.callback(e,e?void 0:u)}))}function bo(t){return function(e,r,...n){return new Promise(((a,o)=>{const i=co(...n);i.callback=(t,e)=>{t?o(t):a(e)},t(e,r,i)}))}}const yo=bo(ho),po=bo(Yo);async function Mo(t,e){const r=t.getExtension("KHR_parallel_shader_compile"),n=r?(t,e)=>t.getProgramParameter(e,r.COMPLETION_STATUS_KHR):()=>!0;let a=0;do{await lo(a),a=1e3/60}while(!n(t,e))}function vo(t,e,r){if(r=r||pa,!t.getProgramParameter(e,_a)){const n=t.getProgramInfoLog(e);return r(`Error in program linking: ${n}`),`${n}\n${t.getAttachedShaders(e).map((e=>function(t,e,r,n){if(n=n||pa,!t.getShaderParameter(r,Pa)){const a=t.getShaderInfoLog(r),{lineOffset:o,shaderSource:i}=uo(t.getShaderSource(r)),u=`${function(t,e="",r=0){const n=[...e.matchAll(oo)],a=new Map(n.map(((t,r)=>{const a=parseInt(t[1]),o=n[r+1],i=o?o.index:e.length;return[a-1,e.substring(t.index,i)]})));return t.split("\n").map(((t,e)=>{const n=a.get(e);return`${e+1+r}: ${t}${n?`\n\n^^^ ${n}`:""}`})).join("\n")}(i,a,o)}\nError compiling ${xe(t,e)}: ${a}`;return n(u),u}return""}(t,t.getShaderParameter(e,t.SHADER_TYPE),e,r))).filter((t=>t)).join("\n")}`}}function xo(t,e,r,n,a){const o=co(r,n,a),i=[];for(const t of e){const e=va(t);if(!e)return so(o,`unknown script element: ${t}`);i.push(e.text)}return ho(t,i,o)}function go(t,e,r,n,a){return ho(t,e,r,n,a)}function Ao(t){const e=t.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const Fo=/(\.|\[|]|\w+)/g,wo=t=>t>="0"&&t<="9";function Eo(t,e,r,n){const a=t.split(Fo).filter((t=>""!==t));let o=0,i="";for(;;){const t=a[o++];i+=t;const u=wo(t[0]),s=u?parseInt(t):t;if(u&&(i+=a[o++]),o===a.length){r[s]=e;break}{const t=a[o++],e="["===t,u=r[s]||(e?[]:{});r[s]=u,r=u,n[i]=n[i]||function(t){return function(e){Do(t,e)}}(u),i+=t}}}function To(t,e){let r=0;function n(e,n,a){const o=n.name.endsWith("[0]"),i=n.type,u=Na[i];if(!u)throw new Error(`unknown type: 0x${i.toString(16)}`);let s;if(u.bindPoint){const e=r;r+=n.size,s=o?u.arraySetter(t,i,e,a,n.size):u.setter(t,i,e,a,n.size)}else s=u.arraySetter&&o?u.arraySetter(t,a):u.setter(t,a);return s.location=a,s}const a={},o={},i=t.getProgramParameter(e,Ra);for(let r=0;r<i;++r){const i=t.getActiveUniform(e,r);if(Ao(i))continue;let u=i.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));const s=t.getUniformLocation(e,i.name);if(s){const t=n(0,i,s);a[u]=t,Eo(u,t,o,a)}}return a}function Po(t,e){const r={},n=t.getProgramParameter(e,Ca);for(let a=0;a<n;++a){const n=t.getTransformFeedbackVarying(e,a);r[n.name]={index:a,type:n.type,size:n.size}}return r}function _o(t,e,r){e.transformFeedbackInfo&&(e=e.transformFeedbackInfo),r.attribs&&(r=r.attribs);for(const n in r){const a=e[n];if(a){const e=r[n];e.offset?t.bindBufferRange(Ea,a.index,e.buffer,e.offset,e.size):t.bindBufferBase(Ea,a.index,e.buffer)}}}function So(t,e,r){const n=t.createTransformFeedback();return t.bindTransformFeedback(Ta,n),t.useProgram(e.program),_o(t,e,r),t.bindTransformFeedback(Ta,null),n}function Io(t,e){const r=t.getProgramParameter(e,Ra),n=[],a=[];for(let o=0;o<r;++o){a.push(o),n.push({});const r=t.getActiveUniform(e,o);n[o].name=r.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(r){const o=r[0],i=r[1];t.getActiveUniforms(e,a,t[o]).forEach((function(t,e){n[e][i]=t}))}));const o={},i=t.getProgramParameter(e,Oa);for(let r=0;r<i;++r){const n=t.getActiveUniformBlockName(e,r),a={index:t.getUniformBlockIndex(e,n),usedByVertexShader:t.getActiveUniformBlockParameter(e,r,ka),usedByFragmentShader:t.getActiveUniformBlockParameter(e,r,Ua),size:t.getActiveUniformBlockParameter(e,r,Da),uniformIndices:t.getActiveUniformBlockParameter(e,r,La)};a.used=a.usedByVertexShader||a.usedByFragmentShader,o[n]=a}return{blockSpecs:o,uniformData:n}}const Bo=/\[\d+\]\.$/,Ro=(t,e)=>((t+(e-1))/e|0)*e;function zo(t,e,r,n){const a=r.blockSpecs,o=r.uniformData,i=a[n];if(!i)return Ma("no uniform block object named:",n),{name:n,uniforms:{}};const u=new ArrayBuffer(i.size),s=t.createBuffer(),c=i.index;t.bindBuffer(wa,s),t.uniformBlockBinding(e,i.index,c);let f=n+".";Bo.test(f)&&(f=f.replace(Bo,"."));const l={},m={},h={};return i.uniformIndices.forEach((function(t){const e=o[t];let r=e.name;r.startsWith(f)&&(r=r.substr(f.length));const n=r.endsWith("[0]");n&&(r=r.substr(0,r.length-3));const a=Na[e.type],i=a.Type,s=n?Ro(a.size,16)*e.size:a.size*e.size,c=new i(u,e.offset,s/i.BYTES_PER_ELEMENT);l[r]=c;const b=function(t,e,r,n){if(e||r){n=n||1;const e=t.length/4;return function(r){let a=0,o=0;for(let i=0;i<e;++i){for(let e=0;e<n;++e)t[a++]=r[o++];a+=4-n}}}return function(e){e.length?t.set(e):t[0]=e}}(c,n,a.rows,a.cols);m[r]=b,Eo(r,b,h,m)})),{name:n,array:u,asFloat:new Float32Array(u),buffer:s,uniforms:l,setters:m}}function Co(t,e,r){return zo(t,e.program,e.uniformBlockSpec,r)}function Oo(t,e,r){const n=(e.uniformBlockSpec||e).blockSpecs[r.name];if(n){const e=n.index;return t.bindBufferRange(wa,e,r.buffer,r.offset||0,r.array.byteLength),!0}return!1}function ko(t,e,r){Oo(t,e,r)&&t.bufferData(wa,r.array,ga)}function Uo(t,e){const r=t.setters;for(const t in e){const n=r[t];n&&n(e[t])}}function Do(t,e){for(const r in e){const n=t[r];"function"==typeof n?n(e[r]):Do(t[r],e[r])}}function Lo(t,...e){const r=t.uniformSetters||t,n=e.length;for(let t=0;t<n;++t){const n=e[t];if(Array.isArray(n)){const t=n.length;for(let e=0;e<t;++e)Lo(r,n[e])}else for(const t in n){const e=r[t];e&&e(n[t])}}}const qo=Lo;function Vo(t,e){const r={},n=t.getProgramParameter(e,za);for(let a=0;a<n;++a){const n=t.getActiveAttrib(e,a);if(Ao(n))continue;const o=t.getAttribLocation(e,n.name),i=ao[n.type],u=i.setter(t,o,i);u.location=o,r[n.name]=u}return r}function jo(t,e){for(const r in e){const n=t[r];n&&n(e[r])}}function Wo(t,e,r){r.vertexArrayObject?t.bindVertexArray(r.vertexArrayObject):(jo(e.attribSetters||e,r.attribs),r.indices&&t.bindBuffer(Fa,r.indices))}function Go(t,e){const r={program:e,uniformSetters:To(t,e),attribSetters:Vo(t,e)};return Me(t)&&(r.uniformBlockSpec=Io(t,e),r.transformFeedbackInfo=Po(t,e)),r}const No=/\s|{|}|;/;function Yo(t,e,r,n,a){const o=co(r,n,a),i=[];if(e=e.map((function(t){if(!No.test(t)){const e=va(t);if(e)t=e.text;else{const e=`no element with id: ${t}`;o.errorCallback(e),i.push(e)}}return t})),i.length)return so(o,"");const u=o.callback;u&&(o.callback=(e,r)=>{u(e,e?void 0:Go(t,r))});const s=go(t,e,o);return s?Go(t,s):null}function $o(t,e,r,n,a){for(const[o,i]of Object.entries(e)){const u={...a},s=r[o];Array.isArray(s)||Object.assign(u,s);const c=vo(t,i,u.errorCallback);if(c){for(const r of Object.values(e)){const e=t.getAttachedShaders(r);t.deleteProgram(r);for(const r of e)n.has(r)||t.deleteShader(r)}return c}}}function Xo(t,e,r={}){const n=new Set,a=Object.fromEntries(Object.entries(e).map((([e,a])=>{const o={...r},i=Array.isArray(a)?a:a.shaders;return Array.isArray(a)||Object.assign(o,a),i.forEach(n.add,n),[e,mo(t,i,o)]})));if(!r.callback)return $o(t,a,e,n,r)?void 0:a;(async function(t,e){for(const r of Object.values(e))await Mo(t,r)})(t,a).then((()=>{const o=$o(t,a,e,n,r);r.callback(o,o?void 0:a)}))}function Ho(t,e,r){function n(t,e){return Object.fromEntries(Object.entries(e).map((([e,r])=>[e,Go(t,r)])))}const a=(r=co(r)).callback;a&&(r.callback=(e,r)=>{a(e,e?void 0:n(t,r))});const o=Xo(t,e,r);if(!a&&o)return n(t,o)}const Qo=bo(Xo),Zo=bo(Ho);var Ko=Object.freeze({__proto__:null,createAttributeSetters:Vo,createProgram:ho,createProgramAsync:yo,createPrograms:Xo,createProgramsAsync:Qo,createProgramFromScripts:xo,createProgramFromSources:go,createProgramInfo:Yo,createProgramInfoAsync:po,createProgramInfos:Ho,createProgramInfosAsync:Zo,createProgramInfoFromProgram:Go,createUniformSetters:To,createUniformBlockSpecFromProgram:Io,createUniformBlockInfoFromProgram:zo,createUniformBlockInfo:Co,createTransformFeedback:So,createTransformFeedbackInfo:Po,bindTransformFeedbackInfo:_o,setAttributes:jo,setBuffersAndAttributes:Wo,setUniforms:Lo,setUniformsAndBindTextures:qo,setUniformBlock:ko,setBlockUniforms:Uo,bindUniformBlock:Oo});const Jo=4,ti=5123;function ei(t,e,r,n,a,o){r=void 0===r?Jo:r;const i=e.indices,u=e.elementType,s=void 0===n?e.numElements:n;a=void 0===a?0:a,u||i?void 0!==o?t.drawElementsInstanced(r,s,void 0===u?ti:e.elementType,a,o):t.drawElements(r,s,void 0===u?ti:e.elementType,a):void 0!==o?t.drawArraysInstanced(r,a,s,o):t.drawArrays(r,a,s)}function ri(t,e){let r=null,n=null;e.forEach((function(e){if(!1===e.active)return;const a=e.programInfo,o=e.vertexArrayInfo||e.bufferInfo;let i=!1;const u=void 0===e.type?Jo:e.type;a!==r&&(r=a,t.useProgram(a.program),i=!0),(i||o!==n)&&(n&&n.vertexArrayObject&&!o.vertexArrayObject&&t.bindVertexArray(null),n=o,Wo(t,a,o)),Lo(a,e.uniforms),ei(t,o,u,e.count,e.offset,e.instanceCount)})),n&&n.vertexArrayObject&&t.bindVertexArray(null)}var ni=Object.freeze({__proto__:null,drawBufferInfo:ei,drawObjectList:ri});const ai=36160,oi=36161,ii=3553,ui=36064,si=36096,ci=33306,fi=33071,li=9729,mi=[{format:6408,type:5121,min:li,wrap:fi},{format:34041}],hi={};hi[34041]=ci,hi[6401]=36128,hi[36168]=36128,hi[6402]=si,hi[33189]=si,hi[33190]=si,hi[36012]=si,hi[35056]=ci,hi[36013]=ci;const bi={32854:!0,32855:!0,36194:!0,34041:!0,33189:!0,6401:!0,36168:!0},di=32;function yi(t,e,r,n){const a=ai,o=t.createFramebuffer();t.bindFramebuffer(a,o),r=r||t.drawingBufferWidth,n=n||t.drawingBufferHeight;const i=[],u={framebuffer:o,attachments:[],width:r,height:n};return(e=e||mi).forEach((function(e,o){let s=e.attachment;const c=e.samples,f=e.format;let l=e.attachmentPoint||function(t,e){return hi[t]||hi[e]}(f,e.internalFormat);if(l||(l=ui+o),function(t){return t>=ui&&t<ui+di}(l)&&i.push(l),!s)if(void 0!==c||function(t){return bi[t]}(f))s=t.createRenderbuffer(),t.bindRenderbuffer(oi,s),c>1?t.renderbufferStorageMultisample(oi,c,f,r,n):t.renderbufferStorage(oi,f,r,n);else{const a=Object.assign({},e);a.width=r,a.height=n,void 0===a.auto&&(a.auto=!1,a.min=a.min||a.minMag||li,a.mag=a.mag||a.minMag||li,a.wrapS=a.wrapS||a.wrap||fi,a.wrapT=a.wrapT||a.wrap||fi),s=ha(t,a)}if(L(0,s))t.framebufferRenderbuffer(a,l,oi,s);else{if(!q(0,s))throw new Error("unknown attachment type");void 0!==e.layer?t.framebufferTextureLayer(a,l,s,e.level||0,e.layer):t.framebufferTexture2D(a,l,e.target||ii,s,e.level||0)}u.attachments.push(s)})),t.drawBuffers&&t.drawBuffers(i),u}function pi(t,e,r,n,a){n=n||t.drawingBufferWidth,a=a||t.drawingBufferHeight,e.width=n,e.height=a,(r=r||mi).forEach((function(r,o){const i=e.attachments[o],u=r.format,s=r.samples;if(void 0!==s||L(0,i))t.bindRenderbuffer(oi,i),s>1?t.renderbufferStorageMultisample(oi,s,u,n,a):t.renderbufferStorage(oi,u,n,a);else{if(!q(0,i))throw new Error("unknown attachment type");ba(t,i,r,n,a)}}))}function Mi(t,e,r){r=r||ai,e?(t.bindFramebuffer(r,e.framebuffer),t.viewport(0,0,e.width,e.height)):(t.bindFramebuffer(r,null),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight))}var vi=Object.freeze({__proto__:null,bindFramebufferInfo:Mi,createFramebufferInfo:yi,resizeFramebufferInfo:pi});const xi=34963;function gi(t,e,r){const n=t.createVertexArray();return t.bindVertexArray(n),e.length||(e=[e]),e.forEach((function(e){Wo(t,e,r)})),t.bindVertexArray(null),{numElements:r.numElements,elementType:r.elementType,vertexArrayObject:n}}function Ai(t,e,r,n){const a=t.createVertexArray();return t.bindVertexArray(a),jo(e,r),n&&t.bindBuffer(xi,n),t.bindVertexArray(null),a}function Fi(t,e,r){return Ai(t,e.attribSetters||e,r.attribs,r.indices)}var wi=Object.freeze({__proto__:null,createVertexArrayInfo:gi,createVAOAndSetAttributes:Ai,createVAOFromBufferInfo:Fi});const Ei={addExtensionsToContext:!0};function Ti(t){C(t,Ei),tt(t),$n(t)}const Pi=/^(.*?)_/;function _i(t,e){xe(t,0);const r=t.getExtension(e);if(r){const n={},a=Pi.exec(e)[1],o="_"+a;for(const e in r){const i=r[e],u="function"==typeof i,s=u?a:o;let c=e;e.endsWith(s)&&(c=e.substring(0,e.length-s.length)),void 0!==t[c]?u||t[c]===i||k(c,t[c],i,e):u?t[c]=function(t){return function(){return t.apply(r,arguments)}}(i):(t[c]=i,n[c]=i)}n.constructor={name:r.constructor.name},xe(n,0)}return r}const Si=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function Ii(t){for(let e=0;e<Si.length;++e)_i(t,Si[e])}function Bi(t,e){const r=function(t,e){const r=["webgl","experimental-webgl"];let n=null;for(let a=0;a<r.length;++a)if(n=t.getContext(r[a],e),n){Ei.addExtensionsToContext&&Ii(n);break}return n}(t,e);return r}function Ri(t,e){const r=function(t,e){const r=["webgl2","webgl","experimental-webgl"];let n=null;for(let a=0;a<r.length;++a)if(n=t.getContext(r[a],e),n){Ei.addExtensionsToContext&&Ii(n);break}return n}(t,e);return r}function zi(t,e){e=e||1,e=Math.max(0,e);const r=t.clientWidth*e|0,n=t.clientHeight*e|0;return(t.width!==r||t.height!==n)&&(t.width=r,t.height=n,!0)}}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=r(887),e=r(460);!function(){const r=document.querySelector("#canvas"),n=r.getContext("webgl2"),a=(0,e.createProgramFromSources)(n,["#version 300 es\n\n// an attribute is an input (in) to a vertex shader.\n// It will receive data from a buffer\nin vec4 a_position;\nin vec4 a_color;\n\n// A matrix to transform the positions by\nuniform mat4    ;\n\n// a varying the color to the fragment shader\nout vec4 v_color;\n\n// all shaders have a main function\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = u_matrix * a_position;\n\n  // Pass the color to the fragment shader.\n  v_color = a_color;\n}\n","#version 300 es\n\nprecision highp float;\n\n// the varied color passed from the vertex shader\nin vec4 v_color;\n\n// we need to declare an output for the fragment shader\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}\n"]),o=n.getAttribLocation(a,"a_position"),i=n.getAttribLocation(a,"a_color"),u=n.getUniformLocation(a,"u_matrix"),s=n.createBuffer(),c=n.createVertexArray();n.bindVertexArray(c),n.enableVertexAttribArray(o),n.bindBuffer(n.ARRAY_BUFFER,s),function(e){var r=new Float32Array([0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0]),n=t.mat4.fromXRotation(t.mat4.create(),Math.PI);n=t.mat4.translate(n,n,t.vec3.fromValues(-50,-75,-15));for(var a=0;a<r.length;a+=3){const e=t.vec4.fromValues(r[a+0],r[a+1],r[a+2],1);var o=t.vec4.transformMat4(t.vec4.create(),e,n);r[a+0]=o[0],r[a+1]=o[1],r[a+2]=o[2]}e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}(n);var f=3,l=n.FLOAT,m=!1,h=0,b=0;n.vertexAttribPointer(o,f,l,m,h,b);var d=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,d),function(t){t.bufferData(t.ARRAY_BUFFER,new Uint8Array([200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220]),t.STATIC_DRAW)}(n),n.enableVertexAttribArray(i),f=3;var y=n.UNSIGNED_BYTE;function p(t){return t*Math.PI/180}m=!0,h=0,b=0,n.vertexAttribPointer(i,f,y,m,h,b);var M=p(60),v=p(0);!function(){(0,e.resizeCanvasToDisplaySize)(r),n.viewport(0,0,r.width,r.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.enable(n.DEPTH_TEST),n.enable(n.CULL_FACE),n.useProgram(a),n.bindVertexArray(c);var o=r.clientWidth/r.clientHeight,i=t.mat4.create();t.mat4.perspective(i,M,o,1,2e3);var s=t.mat4.fromYRotation(t.mat4.create(),v);s=t.mat4.translate(s,s,t.vec3.fromValues(0,0,300));var f=t.mat4.invert(t.mat4.create(),s),l=t.mat4.create();t.mat4.multiply(l,i,f);for(var m=0;m<5;++m){var h=m*Math.PI*2/5,b=200*Math.cos(h),d=200*Math.sin(h),y=t.mat4.translate(t.mat4.create(),l,t.vec3.fromValues(b,0,d));n.uniformMatrix4fv(u,!1,y);var p=n.TRIANGLES;n.drawArrays(p,0,96)}}()}()})()})();